<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.63" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/vuepress-starter/guide/SQL/MySql/MySqlNote.html"><meta property="og:site_name" content="文档演示"><meta property="og:title" content="MySQL数据库"><meta property="og:description" content="MySQL数据库 一、引言 1.1 现有的数据存储方式有哪些？ Java程序存储数据（变量、对象、数组、集合），数据保存在内存中，属于瞬时状态存储。 文件（File）存储数据，保存在硬盘上，属于持久状态存储。 1.2 以上存储方式存在哪些缺点？ 没有数据类型的区分。 存储数据量极小。 没有安全访问限制。 没有备份、恢复机制。 二、数据库 2.1 概念 ..."><meta property="og:type" content="article"><meta property="og:image" content="https://pic.downk.cc/item/5fae46671cd1bbb86b967027.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-12-10T08:55:51.000Z"><meta property="article:modified_time" content="2024-12-10T08:55:51.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL数据库","image":["https://pic.downk.cc/item/5fae46671cd1bbb86b967027.png"],"dateModified":"2024-12-10T08:55:51.000Z","author":[{"@type":"Person","name":"Mr.Hope","url":"https://mister-hope.com"}]}</script><link rel="icon" href="/vuepress-starter/./favicon.ico"><title>MySQL数据库 | 文档演示</title><meta name="description" content="MySQL数据库 一、引言 1.1 现有的数据存储方式有哪些？ Java程序存储数据（变量、对象、数组、集合），数据保存在内存中，属于瞬时状态存储。 文件（File）存储数据，保存在硬盘上，属于持久状态存储。 1.2 以上存储方式存在哪些缺点？ 没有数据类型的区分。 存储数据量极小。 没有安全访问限制。 没有备份、恢复机制。 二、数据库 2.1 概念 ...">
    <link rel="preload" href="/vuepress-starter/assets/style-DmRZqqtw.css" as="style"><link rel="stylesheet" href="/vuepress-starter/assets/style-DmRZqqtw.css">
    <link rel="modulepreload" href="/vuepress-starter/assets/app-dX-INNG3.js"><link rel="modulepreload" href="/vuepress-starter/assets/MySqlNote.html-DnmrpIUh.js"><link rel="modulepreload" href="/vuepress-starter/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/vuepress-starter/assets/index.html-B4kErn1x.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/portfolio.html-DxBb2yRT.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BC2LJUPk.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/disable.html-BmcDs4kq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/encrypt.html-3Cp4MjKx.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/layout.html-q2pmD4J9.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/markdown.html-BKQ3c-qt.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/page.html-BMeZ-R-O.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-D617Cd47.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/技术.html-BIuIoJd0.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/docker-compose.html-BnPEHZwR.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/docker.html-B-b6n7Jv.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/ES.html-C4WrQWs_.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/markdownTest.html-Bzq2Zz1p.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Redis基本概念.html-CL-ifA18.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/SQL standard.html-Cgrewygu.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/doc.html-DFJAmfsq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/RESTfulAPI.html-B-MCtuq-.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Leetcode算法入门.html-CR28XKiW.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/算法随记.html-BolJeJyy.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BY9eJklc.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Kubernetes Memo.html-Dea3i-O1.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Kubernetes.html-OfnmjgdO.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/redis_docker.html-BZ8o1KO3.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/使用.html-BnaFaZpN.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/源码.html-CIwTu78X.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/MiddlewareAndFilters.html-9REEWqh9.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/RabbitMQ.html-BlXsf32s.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Redis MQ.html-ARIXkMin.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Step.html-2uazlWa3.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/sql备忘.html-DkMHoKag.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/SocketDoc.html-Fluq_nNO.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/SignalRDoc.html-DnD9dZmR.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/VueDoc.html-C_EWTPCp.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Mediator.html-BK6lFtj8.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Flyweight.html-CPCXnPMH.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Proxy.html-GDWfom1a.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Singleton.html-Dq73jbXo.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Prototype.html-DypgduWq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Command.html-Dt6XZO1d.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Memento.html-S3JEDXK0.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Facade.html-CD3LJXxw.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Factory Method.html-Ca76I-xD.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Builder.html-B2Cy5Snv.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Abstract Factory.html-Dvjuwd0q.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Bridge.html-CMcafQaa.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Template Method.html-BnqtUGuf.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/State.html-tdRUfn-X.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Strategy.html-DvEzrnxg.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/SimpleFactory.html-D98LRHLo.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Composite.html-CZv3Xjfh.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Decorator.html-BV7nBDEw.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Observer.html-B5jhQM57.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Interpreter.html-BIOsAK4W.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Visitor.html-BGyv7mYp.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Chain of Resp.html-D2gG486n.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Iterator.html-BPzCPRIR.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/Adapter.html-fYw8io_V.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/LICENSE.html-DLVhr-ZW.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-DOgkLkU_.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/404.html-Ci5Ei-d5.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-C_OdW2gO.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CCBdygxs.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-UvZkSI3c.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-tpGAtgqV.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CsEcwgpw.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-B8gCGOXP.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CnvPpztt.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-0jIUYuV7.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-Cgc3ITUL.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CxJJ-yIC.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-zVrtsAUN.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-QY0CwEG1.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-PX6rvJlq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-2nqwe2S_.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-DHXgMiU4.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CFBXLzyI.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-RPHeyf6E.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-DAbZClNU.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BHS5hNHB.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CBVVRV8t.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-pMmTGC05.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BCcQV-sU.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-l-2Anq-c.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CDwKycuS.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CtisK_Tw.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-PGSEjtOj.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CGnGMDnb.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-7pouMhT7.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BF5QxsC5.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-SL6btJiG.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-Br359bxq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-LtGOnpK6.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CRmvP0RD.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BbAfWogJ.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-k2zE8hNp.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-EreouHU6.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CabqCNj_.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-Cc_Rhd6Q.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CqGVepzc.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-C7ukO3yD.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-Dz16QyN5.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BDebLiKl.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-yn1Zrazj.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-Dt8cFp7A.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BSU19XTq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-q9_e3sKc.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/setupDevtools-7MC2TMWH-4fegamXB.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/vuepress-starter/" aria-label="带我回家"><img class="vp-nav-logo" src="/vuepress-starter/./logo.svg" alt><!----><span class="vp-site-name hide-in-pad">文档演示</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vuepress-starter/" aria-label="项目主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->项目主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vuepress-starter/portfolio.html" aria-label="档案主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->档案主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vuepress-starter/demo/" aria-label="主要功能与配置演示"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><!--]-->主要功能与配置演示<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="指南"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span>指南<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Bar</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-starter/guide/bar/baz.html" aria-label="/guide/bar/baz.html"><!---->/guide/bar/baz.html<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-starter/guide/bar/" aria-label="..."><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-ellipsis" style=""></span><!--]-->...<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Foo</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-starter/guide/foo/ray.html" aria-label="/guide/foo/ray.html"><!---->/guide/foo/ray.html<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-starter/guide/foo/" aria-label="..."><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-ellipsis" style=""></span><!--]-->...<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://theme-hope.vuejs.press/zh/" aria-label="V2 文档" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><!--]-->V2 文档<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/" aria-label="项目主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->项目主页<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/portfolio.html" aria-label="档案主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->档案主页<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header clickable"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/vuepress-starter/demo/" aria-label="案例"><!---->案例<!----></a><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/demo/markdown.html" aria-label="Markdown 展示"><!--[--><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span><!--]-->Markdown 展示<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/demo/layout.html" aria-label="布局"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-object-group" style=""></span><!--]-->布局<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/demo/page.html" aria-label="页面配置"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-file" style=""></span><!--]-->页面配置<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/demo/disable.html" aria-label="布局与功能禁用"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-gears" style=""></span><!--]-->布局与功能禁用<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/demo/encrypt.html" aria-label="密码加密的文章"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-lock" style=""></span><!--]-->密码加密的文章<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">文档</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/guide/" aria-label="指南"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><!--]-->指南<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/guide/%E6%8A%80%E6%9C%AF.html" aria-label="/guide/%E6%8A%80%E6%9C%AF.html"><!---->/guide/%E6%8A%80%E6%9C%AF.html<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ASP. NET</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Docker</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Elastic Search</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">MQ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Others</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Socket</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">SQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/guide/SQL/SQL%20standard.html" aria-label="/guide/SQL/SQL%20standard.html"><!---->/guide/SQL/SQL%20standard.html<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">My Sql</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-starter/guide/SQL/MySql/sql%E5%A4%87%E5%BF%98.html" aria-label="/guide/SQL/MySql/sql%E5%A4%87%E5%BF%98.html"><!---->/guide/SQL/MySql/sql%E5%A4%87%E5%BF%98.html<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/vuepress-starter/guide/SQL/MySql/MySqlNote.html" aria-label="MySQL数据库"><!---->MySQL数据库<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">前端</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">接口规范</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">算法</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">设计模式</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><a class="auto-link external-link vp-sidebar-link" href="https://ecosystem.vuejs.press/zh/plugins/markdown/revealjs/demo.html" aria-label="幻灯片" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-person-chalkboard" style=""></span><!--]-->幻灯片<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->MySQL数据库</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mister-hope.com" target="_blank" rel="noopener noreferrer">Mr.Hope</a></span><span property="author" content="Mr.Hope"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2024年12月10日</span><meta property="datePublished" content="2024-12-10T08:55:51.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 41 分钟</span><meta property="timeRequired" content="PT41M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-1-现有的数据存储方式有哪些">1.1 现有的数据存储方式有哪些？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-2-以上存储方式存在哪些缺点">1.2 以上存储方式存在哪些缺点？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-1-概念">2.1 概念</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-2-数据库的分类">2.2 数据库的分类</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-1-概念">3.1 概念</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-2-常见数据库管理系统">3.2 常见数据库管理系统</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-1-简介">4.1 简介</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-2-访问与下载">4.2 访问与下载</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-3-卸载">4.3 卸载</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-4-配置环境变量">4.4 配置环境变量</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-5-mysql目录结构">4.5 MySQL目录结构</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-6-mysql配置文件">4.6 MySQL配置文件</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-1-概念">5.1 概念</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-2-mysql应用">5.2 MySQL应用</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-3-基本命令">5.3 基本命令</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-1-navicate">6.1 Navicate</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-2-sqlyog">6.2 SQLyog</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-1-数据库表的基本结构">7.1 数据库表的基本结构</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-2-基本查询">7.2 基本查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-1-查询部分列">7.2.1 查询部分列</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-2-查询所有列">7.2.2 查询所有列</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-3-对列中的数据进行运算">7.2.3 对列中的数据进行运算</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-4-列的别名">7.2.4 列的别名</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-5-查询结果去重">7.2.5 查询结果去重</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-3-排序查询">7.3 排序查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-3-1-依据单列排序">7.3.1 依据单列排序</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-3-2-依据多列排序">7.3.2 依据多列排序</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-4-条件查询">7.4 条件查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-1-等值判断">7.4.1 等值判断（=）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-2-逻辑判断-and、or、not">7.4.2 逻辑判断（and、or、not）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-3-不等值判断-、-、-、-、-、">7.4.3 不等值判断（&gt;、&gt;、&gt;=、&lt;=、!=、&lt;&gt;）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-4-区间判断">7.4.4 区间判断</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-5-null值判断">7.4.5 NULL值判断</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-6-枚举查询-in-值1-值-值3">7.4.6 枚举查询（IN(值1,值,值3)）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-7-模糊查询">7.4.7 模糊查询</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-8-分支结构查询">7.4.8 分支结构查询</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-5-时间查询">7.5 时间查询</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-6-字符串查询">7.6 字符串查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-6-1-字符串应用">7.6.1 字符串应用</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-7-聚合函数">7.7 聚合函数</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-7-1-单列总和">7.7.1 单列总和</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-7-2-单列平均值">7.7.2 单列平均值</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-7-3-单列最大值">7.7.3 单列最大值</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-7-4-单列最小值">7.7.4 单列最小值</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-7-5-总行数">7.7.5 总行数</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-8-分组查询">7.8 分组查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-8-1-查询各部门的总人数">7.8.1 查询各部门的总人数</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-8-2-查询各部门的平均工资">7.8.2 查询各部门的平均工资</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-8-3-查询各个部门、各个岗位的人数">7.8.3 查询各个部门、各个岗位的人数</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-8-4-常见问题">7.8.4 常见问题</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-9-分组过滤查询">7.9 分组过滤查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-9-1-统计部门的最高工资">7.9.1 统计部门的最高工资</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-10-限定查询">7.10 限定查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-10-1-查询前5行记录">7.10.1 查询前5行记录</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-10-2-查询范围记录">7.10.2 查询范围记录</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-10-3-limit典型应用">7.10.3 LIMIT典型应用</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-11-查询总结">7.11 查询总结</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-11-1-sql语句编写顺序">7.11.1 SQL语句编写顺序</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-11-2-sql语句执行顺序">7.11.2 SQL语句执行顺序</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-12-子查询-作为条件判断">7.12 子查询（作为条件判断）</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-12-1-查询工资大于bruce的员工信息">7.12.1 查询工资大于Bruce的员工信息</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-13-子查询-作为枚举查询条件">7.13 子查询（作为枚举查询条件）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-13-1-查询与名为-king-同一部门的员工信息">7.13.1 查询与名为“KING”同一部门的员工信息</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-13-2-工资高于60编号部门的员工信息">7.13.2 工资高于60编号部门的员工信息</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-14-子查询-作为一张表">7.14 子查询（作为一张表）</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-14-1-查询员工表中工资排名前5名的员工信息">7.14.1 查询员工表中工资排名前5名的员工信息</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-15-合并查询">7.15 合并查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-15-1-合并两张表的结果-去除重复记录">7.15.1 合并两张表的结果（去除重复记录）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-15-2-合并两张表的结果-保留重复记录">7.15.2 合并两张表的结果（保留重复记录）</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-16-表连接查询">7.16 表连接查询</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-16-1-内连接查询-inner-join-on">7.16.1 内连接查询（INNER JOIN ON）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-16-2-三表连接查询">7.16.2 三表连接查询</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-16-3-左外连接-left-join-on">7.16.3 左外连接（LEFT JOIN ON）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-16-4-右外连接-right-join-on">7.16.4 右外连接（RIGHT JOIN ON）</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-1-新增-insert">8.1 新增（INSERT）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-1-1-添加一条信息">8.1.1 添加一条信息</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-2-修改-updata">8.2 修改（UPDATA）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-3-删除-delete">8.3 删除（DELETE）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-4-清空整表数据-truncate">8.4 清空整表数据（TRUNCATE）</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-4-1-清空整张表">8.4.1 清空整张表</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-1-数据类型">9.1 数据类型</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-1-1-数值类型">9.1.1 数值类型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-1-2-日期类型">9.1.2 日期类型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-1-3-字符串类型">9.1.3 字符串类型</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-2-数据表的创建-create">9.2 数据表的创建（CREATE）</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-2-1-创建表">9.2.1 创建表</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-3-数据表的修改-alter">9.3 数据表的修改（ALTER）</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-3-1-向现有表中添加列">9.3.1 向现有表中添加列</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-3-2-修改表中的列">9.3.2 修改表中的列</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-3-3-删除表中的列">9.3.3 删除表中的列</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-3-4-修改列名">9.3.4 修改列名</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-3-5-修改表名">9.3.5 修改表名</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-4-数据表的删除-drop">9.4 数据表的删除（DROP）</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-4-1-删除课程表">9.4.1 删除课程表</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_10-1-实体完整性约束">10.1 实体完整性约束</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-1-1-主键约束">10.1.1 主键约束</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-1-2-唯一约束">10.1.2 唯一约束</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-1-3-自动增长列">10.1.3 自动增长列</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_10-2-域完整性约束">10.2 域完整性约束</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-2-1-非空约束">10.2.1 非空约束</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-2-2-默认值约束">10.2.2 默认值约束</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-2-3-引用完整性约束">10.2.3 引用完整性约束</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_10-3-约束创建整合">10.3 约束创建整合</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-1-模拟转账">11.1 模拟转账</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-1-1-数据库模拟转账">11.1.1 数据库模拟转账</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-1-2-模拟转账错误">11.1.2 模拟转账错误</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-2-事务的概念">11.2 事务的概念</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-3-事务的边界">11.3 事务的边界</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-4-事务的原理">11.4 事务的原理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-5-事务的特性-acid">11.5 事务的特性（ACID）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-6-事务应用">11.6 事务应用</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-6-1-事务完成转账">11.6.1 事务完成转账</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#十二、权限管理">十二、权限管理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_12-1-创建用户">12.1 创建用户</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_12-2-授权">12.2 授权</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_12-3-撤销权限">12.3 撤销权限</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_12-4-删除用户">12.4 删除用户</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_13-1-概念">13.1 概念</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_13-2-视图特点">13.2 视图特点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_13-3-视图的创建">13.3 视图的创建</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_13-3-1-创建视图">13.3.1 创建视图</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_13-3-2-使用视图">13.3.2 使用视图</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_13-4-视图的修改">13.4 视图的修改</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_13-5-视图的删除">13.5 视图的删除</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_13-6-视图的注意事项">13.6 视图的注意事项</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="mysql数据库" tabindex="-1"><a class="header-anchor" href="#mysql数据库"><span>MySQL数据库</span></a></h1><h1 id="一、引言" tabindex="-1"><a class="header-anchor" href="#一、引言"><span>一、引言</span></a></h1><hr><h2 id="_1-1-现有的数据存储方式有哪些" tabindex="-1"><a class="header-anchor" href="#_1-1-现有的数据存储方式有哪些"><span>1.1 现有的数据存储方式有哪些？</span></a></h2><ul><li>Java程序存储数据（变量、对象、数组、集合），数据保存在内存中，属于瞬时状态存储。</li><li>文件（File）存储数据，保存在硬盘上，属于持久状态存储。</li></ul><h2 id="_1-2-以上存储方式存在哪些缺点" tabindex="-1"><a class="header-anchor" href="#_1-2-以上存储方式存在哪些缺点"><span>1.2 以上存储方式存在哪些缺点？</span></a></h2><ul><li>没有数据类型的区分。</li><li>存储数据量极小。</li><li>没有安全访问限制。</li><li>没有备份、恢复机制。</li></ul><h1 id="二、数据库" tabindex="-1"><a class="header-anchor" href="#二、数据库"><span>二、数据库</span></a></h1><hr><h2 id="_2-1-概念" tabindex="-1"><a class="header-anchor" href="#_2-1-概念"><span>2.1 概念</span></a></h2><p>数据库是按照数据接口来<strong>组织</strong>、<strong>存储和管理数据的仓库</strong>。是一个长期存储在计算机内的、有组织的、有共享的、统一管理的数据集合。</p><h2 id="_2-2-数据库的分类" tabindex="-1"><a class="header-anchor" href="#_2-2-数据库的分类"><span>2.2 数据库的分类</span></a></h2><ul><li>网状结构数据库：美国通用电气公司IDS（Integrated Data Store），以节点形式存储和访问。</li><li>层次结构数据库：IBM公司IMS（Information Management System）定向有序的树状结构实现存储和访问。</li><li>关系结构数据库：Oracle、DB2、MySQL、SQL Server，以表格（Table）存储，多表间建立关联关系，通过分类、合并、连接、选取等运算实现访问。</li><li>非关系型数据库：ElastecSearch、MongoDB、Redis，多数使用哈希表，表中以键值（key-value）的方式实现特定的键和一个指针指向的特定数据。</li></ul><h1 id="三、数据库管理系统" tabindex="-1"><a class="header-anchor" href="#三、数据库管理系统"><span>三、数据库管理系统</span></a></h1><hr><h2 id="_3-1-概念" tabindex="-1"><a class="header-anchor" href="#_3-1-概念"><span>3.1 概念</span></a></h2><p><strong>数据库管理系统</strong>（DataBase Management System，DBMS）：指一种操作和管理数据库的大型软件，用于建立、使用、和维护数据库，对数据库进行统一管理和控制，以保证数据库的安全性和完整性。用户通过数据库管理系统访问数据库中的数据。</p><h2 id="_3-2-常见数据库管理系统" tabindex="-1"><a class="header-anchor" href="#_3-2-常见数据库管理系统"><span>3.2 常见数据库管理系统</span></a></h2><ul><li>Oracle：被认为是业界目前比较成功的关系型数据库管理系统。Oracle数据库可以运行在UNIX、Windows等主流操作平台，完全支持所有的工业标准，并获得最高级别的ISO标准安全性认证。</li><li>DB2：IBM公司的产品，DB2数据库采用多进程多线索体系结构，其功能足以满足大中公司的需求，并可灵活地服务于中小型电子商务解决方案。</li><li>SQL Server： Microsoft公司退出的关系型数据库管理系统。具有使用方便可伸缩性好与相关软件集成程度高等优点。</li><li>SQLLite：应用在手机端的数据库。</li></ul><h1 id="四、mysql" tabindex="-1"><a class="header-anchor" href="#四、mysql"><span>四、MySQL</span></a></h1><hr><h2 id="_4-1-简介" tabindex="-1"><a class="header-anchor" href="#_4-1-简介"><span>4.1 简介</span></a></h2><p>MySQL是一个<strong>关系型数据库管理系统</strong>，由瑞典MySQL AB公司开发，属于Oracle旗下产品。MySQL是最流行的关系型数据库管理系统之一，在WEB应用方面，MySQL是最好RDBM（Relational Database Management System，关系型数据库管理系统）应用软件之一。</p><h2 id="_4-2-访问与下载" tabindex="-1"><a class="header-anchor" href="#_4-2-访问与下载"><span>4.2 访问与下载</span></a></h2><p>官网地址： <a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">https://www.mysql.com/</a></p><p>下载地址： <a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/downloads/mysql/</a></p><p>安装过程略，我个人下载的是MySQL5.7版本，也不建议下载最新的8.x版本。</p><h2 id="_4-3-卸载" tabindex="-1"><a class="header-anchor" href="#_4-3-卸载"><span>4.3 卸载</span></a></h2><ul><li>控制台卸载。</li><li>找到mysql的安装目录进行删除。</li><li>programdata删除mysql。</li></ul><blockquote><ul><li>如果卸载后，有未删除的MySQL服务，可采用手动删除。</li><li>以管理员身份打开命令行，输入<code>sc delete MySQL57</code>，回车。</li></ul></blockquote><p>如果某个MySQL组件无法删除，可以尝试从注册表搜索信息删除相关文件夹。具体可百度。</p><h2 id="_4-4-配置环境变量" tabindex="-1"><a class="header-anchor" href="#_4-4-配置环境变量"><span>4.4 配置环境变量</span></a></h2><p><strong>Windows</strong></p><ul><li>创建MYSQL_HOME: <code>C:\Program Files\MySQL\MySQL Server5.7</code></li><li>追加PATH: <code>%MYSQL_HOME%\bin;</code></li></ul><h2 id="_4-5-mysql目录结构" tabindex="-1"><a class="header-anchor" href="#_4-5-mysql目录结构"><span>4.5 MySQL目录结构</span></a></h2><p>核心文件介绍：</p><table><thead><tr><th>文件夹名称</th><th>内容</th></tr></thead><tbody><tr><td>bin</td><td>命令文件</td></tr><tr><td>lib</td><td>库文件</td></tr><tr><td>include</td><td>头文件</td></tr><tr><td>Share</td><td>字符集、语言等信息</td></tr></tbody></table><h2 id="_4-6-mysql配置文件" tabindex="-1"><a class="header-anchor" href="#_4-6-mysql配置文件"><span>4.6 MySQL配置文件</span></a></h2><p>在MySQL安装目录中找到my.ini文件，并打开my.ini文件查看几个常用配置参数。</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>default-character-set</td><td>客户端默认字符集</td></tr><tr><td>character-set-server</td><td>服务器端默认字符集</td></tr><tr><td>port</td><td>客户端和服务器端的端口号</td></tr><tr><td>default-storage-engine</td><td>MySQL默认存储引擎INNODB</td></tr></tbody></table><p>通过安装程序安装的MySQL配置文件在C盘的隐藏文件ProgramData中，点进去找到对应的MYSQL目录就能看到my.ini文件了。</p><p>客户端默认字符集和服务器端默认字符集必须保持一致，它们在初始的配置文件中都是被注释掉的，那么默认的字符集会跟随你的系统默认字符集。</p><h1 id="五、sql语言" tabindex="-1"><a class="header-anchor" href="#五、sql语言"><span>五、SQL语言</span></a></h1><hr><h2 id="_5-1-概念" tabindex="-1"><a class="header-anchor" href="#_5-1-概念"><span>5.1 概念</span></a></h2><p>SQL（Structured Query Language）结构化查询语言，用于存储数据、更新、查询和管理关系数据库系统的程序设计语言。</p><ul><li><strong>经验</strong>：通常执行对数据库的“增删改查”，简称<strong>C</strong>（Create）<strong>R</strong>（Read）<strong>U</strong>（Update）<strong>D</strong>（Delete）。</li></ul><h2 id="_5-2-mysql应用" tabindex="-1"><a class="header-anchor" href="#_5-2-mysql应用"><span>5.2 MySQL应用</span></a></h2><p>对于数据库操作，需要在<strong>进入MySQL环境下</strong>进行指令输入，并在一句指令的末尾<strong>使用 ;</strong> 结束。 ·</p><h2 id="_5-3-基本命令" tabindex="-1"><a class="header-anchor" href="#_5-3-基本命令"><span>5.3 基本命令</span></a></h2><ul><li><p><strong>登录数据库系统</strong>：<code>mysql -u root -p password</code></p><p>root和password分别写自己设置的用户名和密码，用户名默认是root。该方式登录数据库系统会有一个warning提示你正在明文登录。</p><p><strong>你可以分别填写用户名和密码</strong>：<code>mysql -u root -p</code></p><p>回车之后命令行会提示你输入密码，此时的密码是密文形式。</p></li><li><p><strong>查看MySQL中所有数据库</strong>：<code>SHOW DATABASES;</code></p><p>显示当前MySQL中包含的所有数据库。</p><p>命令行中出现了一个表结构，表头是数据库的意思，里面存放了安装MySQL之后就默认存在的6个数据库。</p><table><thead><tr><th>数据库名称</th><th>描述</th></tr></thead><tbody><tr><td>information_schema</td><td>信息数据库，其中保存着关于所有数据库的信息（元数据）。 元数据是关于数据的数据，如数据库名或表名，列的数据类型，或访问权限等。</td></tr><tr><td>mysql</td><td>核心数据库，主要负责存储数据库的用户、权限设置、关键字等。 以及需要使用的控制和管理信息，不可以删除。</td></tr><tr><td>performance_schema</td><td>性能优化的数据库，MySQL5.5版本中新增的一个性能优化的引擎。</td></tr><tr><td>sys</td><td>系统数据库，MySQL5.7版本中新增的可以快速地了解元数据库信息的系统库， 便于发现数据库的多样信息，解决性能瓶颈问题。</td></tr></tbody></table><p>sakila数据库是一个样板数据库； world数据库存放了一些国家对应的编号信息。这些数据库都是MySQL默认提供的<strong>系统数据库</strong>，我们不必去关注，也不要想着哪些可以删。</p><blockquote><p>SQL 的关键字和函数名不区分大小写，SELEC、select或者sElEcT都是等价的；</p><p>MySQL用服务器主机的底层文件系统所包含的目录和文件来表示数据库和表。因此，数据库名和表名的默认大小写取决于服务器主机的操作系统在命名方面的规定。比如 Windows 系统的文件名不区分大小写，所以<strong>运行在 Windows 系统上面的 MySQL 服务器也不用区分数据库名和表名的大小写</strong>。Linux 系统的文件名区分大小写，所以运<strong>行在 Linux 系统上的 MySQL 服务器需要区分数据库名和表名的大小写</strong>。对于 Mac OS X 平台，其文件系统中的名字是个例外，它们不区分大小写。</p><p>在 Linux 服务器下创建数据库和表时，应该认真考虑大小写的问题，比如它们以后<strong>是否会迁移</strong>到 Windows 服务器上。</p><p>在阿里巴巴 Java 开发手册的 MySql 建表规约里提到：</p><blockquote><p>【强制】表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。</p></blockquote><p>一般建议统一使用小写字母，并且 InnoDB 引擎在其内部都是以小写字母方式来存储数据库名和表名的。这样可以有效的防止 MySQL 产生大小写问题。</p></blockquote></li><li><p><strong>创建自定义数据库</strong>：</p><p><code>CREATE DATABASE dbname;</code>创建数据库，dbname为数据库名；</p><p><code>CREATE DATEBASE dbname2 CHARACTER SET gbk;</code>创建数据库并设置编码；</p><p><code>CREATE DATABASE IF NOT EXISTS dbname3;</code>输入数据库dbname3不存在则创建。</p></li><li><p><strong>查看数据库创建信息</strong>：</p><p><code>SHOW CREATE DATABASE dbname;</code>查看创建数据库时的基本信息。</p><p>命令行中显示了一个表，在Create Datebase列中显示了建数据库时的语句，后面的注释说明了默认的字符集格式，Latin1是ISO-8859-1的别名，有些环境下写作Latin-1。</p></li><li><p><strong>修改数据库</strong>：</p><p><code>ALTER DATABASE dbname CHARACTER SET utf8;</code>修改数据库字符集编码格式为utf-8。</p></li><li><p><strong>删除数据库</strong>：</p><p><code>DROP DATABASE dbname;</code>删除数据库dbname。</p><p>查看数据库，发现创建的dbname数据库已经被删除了。</p></li><li><p><strong>查看当前所使用的的数据库</strong>：</p><p><code>SELECT DATABASE();</code>查看当前所使用/操作的数据库。如果当前没有使用任何数据库则会显示NULL。</p></li><li><p><strong>使用数据库</strong>：</p><p><code>USE dbname;</code>使用dbname数据库。</p><p>重新创建数据库，查看当前操作的数据库，显示NULL；使用USE关键字操作数据库dbname，再进行查看，发现显示了当前使用的dbname数据库，那么接下来的种种操作就是对该数据库的操作。</p></li></ul><h1 id="六、客户端工具" tabindex="-1"><a class="header-anchor" href="#六、客户端工具"><span>六、客户端工具</span></a></h1><hr><p>在使用命令行对数据库进行操作时，你会发现有很多弊端或者说麻烦的地方。比如命令行不能对自己的语法提前进行校验，需要在回车之后看到结果；输入的时候没有语法提示，编写速度慢等。如同JAVA编写所使用的IDE，MySQL也有相应的数据库管理工具，提供了便利的可视化操作。</p><h2 id="_6-1-navicate" tabindex="-1"><a class="header-anchor" href="#_6-1-navicate"><span>6.1 Navicate</span></a></h2><p><strong>Navicate是一套快速</strong>、<strong>可靠并价格相宜的数据库管理工具</strong>，<strong>专为简化数据库的管理及降低系统管理成本而设</strong>。它的设计符合数据库管理员、开发人员及中小企业的需要。Navicate是以直觉化的图形用户界面而建的，让你可以安全并且以简单的方式创建、组织、访问和共用信息。</p><p>如果经济实力不允许，网络上也有破解版/注册码工具等，可以自行百度下载。</p><h2 id="_6-2-sqlyog" tabindex="-1"><a class="header-anchor" href="#_6-2-sqlyog"><span>6.2 SQLyog</span></a></h2><p>MySQL可能是世界上最流行的开源数据库引擎，但是使用基于文本的工具和配置文件可能很难进行管理。SQLyog提供了完整的图形界面，即使初学者也可以轻松使用MySQL的强大功能。其拥有广泛的预定义工具和查询、友好的视觉界面、类似Excel的查询界面编辑界面等优点。</p><p>SQLyog软件界面友好，适合初学者。</p><h1 id="七、数据查询" tabindex="-1"><a class="header-anchor" href="#七、数据查询"><span>七、数据查询</span></a></h1><hr><p>打开你下载的客户端工具，新建查询，创建一个字符集格式为utf8的数据库companydb。<strong>这里有一个已经写好的SQL代码</strong>。右键选中该数据库，选择 运行SQL文件，在弹出的窗口中导入SQL文件后执行，再刷新一下数据库就发现数据库中已经有了一些表数据。</p><figure><img src="/vuepress-starter/assets/5facb9951cd1bbb86b3dad3c-D64_r4rO.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><blockquote><p>链接: <a href="https://pan.baidu.com/s/1zzIRe3YnziHkawflZ_3BTQ" target="_blank" rel="noopener noreferrer">https://pan.baidu.com/s/1zzIRe3YnziHkawflZ_3BTQ</a></p><p>提取码: 7d3e</p></blockquote><p><strong>相关的SQL文件自行下载</strong>，<strong>接下来的操作都会在这个数据库中执行</strong>。</p><h2 id="_7-1-数据库表的基本结构" tabindex="-1"><a class="header-anchor" href="#_7-1-数据库表的基本结构"><span>7.1 数据库表的基本结构</span></a></h2><p>关系结构数据库是以表格（Table）进行数据存储，表格由“行”和”列“组成。</p><ul><li><strong>经验</strong>：<strong>执行查询语句返回的结果是一张虚拟表</strong>。</li></ul><h2 id="_7-2-基本查询" tabindex="-1"><a class="header-anchor" href="#_7-2-基本查询"><span>7.2 基本查询</span></a></h2><p><strong>语法</strong>：<code>SELECT 列名 FROM 表名</code></p><table><thead><tr><th>关键字</th><th>描述</th></tr></thead><tbody><tr><td>SELECT</td><td>指定要查询的列</td></tr><tr><td>FROM</td><td>指定要查询的表</td></tr></tbody></table><h3 id="_7-2-1-查询部分列" tabindex="-1"><a class="header-anchor" href="#_7-2-1-查询部分列"><span>7.2.1 查询部分列</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工表中所有员工的编号、名字、邮箱</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,EMAIL FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2-2-查询所有列" tabindex="-1"><a class="header-anchor" href="#_7-2-2-查询所有列"><span>7.2.2 查询所有列</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工表中员工的所有信息（所有列）</span></span>
<span class="line"><span>SELECT 所有列的列名 FROM t_employees;</span></span>
<span class="line"><span>SELECT * FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>生产环境下</strong>，<strong>优先使用列名查询</strong>，*<strong>的方式需转换成全列名</strong>，<strong>效率低</strong>，<strong>可读性差</strong>。</li></ul><h3 id="_7-2-3-对列中的数据进行运算" tabindex="-1"><a class="header-anchor" href="#_7-2-3-对列中的数据进行运算"><span>7.2.3 对列中的数据进行运算</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工表中所有员工的编号、名字、年薪</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY*12 FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>对数据列进行运算，该列需要是一个<strong>数值列</strong>，而不是字符串列等。</p><p>执行完该查询语句后，返回的虚拟表中可以看见运算后的“年薪”列SALARY*12：</p><figure><img src="/vuepress-starter/assets/5facc1a51cd1bbb86b3fed03-DxaFoCRz.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><table><thead><tr><th>算数运算符</th><th>描述</th></tr></thead><tbody><tr><td>+</td><td>两列做加法运算</td></tr><tr><td>-</td><td>两列做减法运算</td></tr><tr><td>*</td><td>两列做乘法运算</td></tr><tr><td>/</td><td>两列做除法运算</td></tr></tbody></table><ul><li><strong>注意</strong>：<strong>%是占位符</strong>，<strong>而非模运算符</strong>。</li></ul><h3 id="_7-2-4-列的别名" tabindex="-1"><a class="header-anchor" href="#_7-2-4-列的别名"><span>7.2.4 列的别名</span></a></h3><p>在上图中查询结果的列名可能并不直观，比如SALARY*12，它应当被显示为“年薪”才更符合所期望看到的查询结果，我们可以在查询的时候为列名取一个别名，使表数据更加清晰明了。</p><p><strong>语法</strong>：<code>列 AS &#39;列名&#39;</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工表中所有员工的编号、名字、年薪（列名均为中文）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID AS &#39;员工编号&#39;,FIRST_NAME AS &#39;姓氏&#39;,SALARY*12 AS &#39;年薪&#39; </span></span>
<span class="line"><span>FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/vuepress-starter/assets/5facdac81cd1bbb86b46d948-BTdDaeuZ.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="_7-2-5-查询结果去重" tabindex="-1"><a class="header-anchor" href="#_7-2-5-查询结果去重"><span>7.2.5 查询结果去重</span></a></h3><p>员工表中每个员工都对应着一个经理ID，但这些ID有可能重复，因为多个员工可能对应着同一个经理ID，当需要查询员工表中对应了多少个经理ID时，只查询列名就可能出现相同的ID数据，这时候就需要将查询结果去重。</p><p><strong>语法</strong>：<code>DISTINCT 列名</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工表中所有经理的ID</span></span>
<span class="line"><span>SELECT DISTINCT MANAGER_ID FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/vuepress-starter/assets/5facddd51cd1bbb86b47bc53-DA8HTqwJ.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="_7-3-排序查询" tabindex="-1"><a class="header-anchor" href="#_7-3-排序查询"><span>7.3 排序查询</span></a></h2><p><strong>语法</strong>：<code>SELECT 列名 FROM 表名 ORDER BY 排序列[排序规则]</code>括号内可省略。</p><table><thead><tr><th>排序规则</th><th>描述</th></tr></thead><tbody><tr><td>ASC</td><td>对前面排序列做升序排序</td></tr><tr><td>DESC</td><td>对前面排序列做降序排序</td></tr></tbody></table><h3 id="_7-3-1-依据单列排序" tabindex="-1"><a class="header-anchor" href="#_7-3-1-依据单列排序"><span>7.3.1 依据单列排序</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工的编号，名字，薪资，按工资高低进行降序排序</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM t_employees ORDER BY SALARY DESC;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果salary的排序出现问题，可以通过<code>DESC t_employees</code>来查看一下员工表中salary的数据类型，如果是字符串类型就修改成整型，或者查询语句中将salary改成<code>salary+0</code>即可。</p><h3 id="_7-3-2-依据多列排序" tabindex="-1"><a class="header-anchor" href="#_7-3-2-依据多列排序"><span>7.3.2 依据多列排序</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工的编号，名字，薪资。按工资高低进行升序排序（薪资相同，按照编号降序排序）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY </span></span>
<span class="line"><span>FROM t_employees ORDER BY SALARY ASC,EMPLOYEE_ID DESC;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/vuepress-starter/assets/5facfd451cd1bbb86b514077-CIs6pTGK.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>排序时的比较顺序为先按第一个字段SALARY进行比较排序，<strong>如果相同</strong>再按EMPLOYEE_ID比较排序。</p><h2 id="_7-4-条件查询" tabindex="-1"><a class="header-anchor" href="#_7-4-条件查询"><span>7.4 条件查询</span></a></h2><p><strong>语法</strong>：<code>SELECT 列名 FROM 表名 WHERE 条件</code></p><table><thead><tr><th>关键字</th><th>描述</th></tr></thead><tbody><tr><td>WHERE条件</td><td>在查询结果中，筛选符合条件的查询结果，条件为布尔表达式</td></tr></tbody></table><h3 id="_7-4-1-等值判断" tabindex="-1"><a class="header-anchor" href="#_7-4-1-等值判断"><span>7.4.1 等值判断（=）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询薪资是11000的员工信息（编号、名字、薪资）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM t_employees WHERE SALARY = 11000;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：与java不同（==），mysql中等值判断使用 = 。</li></ul><h3 id="_7-4-2-逻辑判断-and、or、not" tabindex="-1"><a class="header-anchor" href="#_7-4-2-逻辑判断-and、or、not"><span>7.4.2 逻辑判断（and、or、not）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询薪资是11000并且提成是0.30的员工信息（编号、名字、薪资）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY </span></span>
<span class="line"><span>FROM t_employees WHERE SALARY = 11000 AND COMMISSION_PCT = 0.30;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>OR和NOT的使用方法同AND，NOT就是非，NOT后跟条件，查询的是条件取反的结果集，不再演示，自行操练。</p><h3 id="_7-4-3-不等值判断-、-、-、-、-、" tabindex="-1"><a class="header-anchor" href="#_7-4-3-不等值判断-、-、-、-、-、"><span>7.4.3 不等值判断（&gt;、&gt;、&gt;=、&lt;=、!=、&lt;&gt;）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工的薪资在6000~10000之间的员工信息（编号、名字、薪资）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY </span></span>
<span class="line"><span>FROM t_employees WHERE SALARY &gt;= 6000 AND SALARY &lt;= 10000;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>!=和&lt;&gt;都是不等于的含义。</p><h3 id="_7-4-4-区间判断" tabindex="-1"><a class="header-anchor" href="#_7-4-4-区间判断"><span>7.4.4 区间判断</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工的薪资在6000~10000之间的员工信息（编号、名字、薪资）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY </span></span>
<span class="line"><span>FROM t_employees WHERE SALARY BETWEEN 6000 AND 10000;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果同上一节，区别在于上一节中有两个条件，必须同时满足，而区间判断是一个条件，在该区间中进行筛选。<strong>在区间判断语法中</strong>，<strong>小值在前</strong>，<strong>大值在后</strong>，<strong>反之</strong>，<strong>得不到正确结果</strong>。</p><h3 id="_7-4-5-null值判断" tabindex="-1"><a class="header-anchor" href="#_7-4-5-null值判断"><span>7.4.5 NULL值判断</span></a></h3><p><strong>语法</strong>：<code>列名 IS NULL</code>或者<code>列名 IS NOT NULL</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询没有提成的员工信息（编号，名字，薪资，提成）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,COMMISSION_PCT </span></span>
<span class="line"><span>FROM t_employees WHERE COMMISSION_PCT IS NULL;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-4-6-枚举查询-in-值1-值-值3" tabindex="-1"><a class="header-anchor" href="#_7-4-6-枚举查询-in-值1-值-值3"><span>7.4.6 枚举查询（IN(值1,值,值3)）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询部门编号为70、80、90的员工信息（编号，名字，薪资，部门编号）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,DEPARTMENT_ID </span></span>
<span class="line"><span>FROM t_employees WHERE DEPARTMENT_ID IN (70,80,90);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong>：<strong>IN的查询效率较低</strong>，<strong>可通过多条件拼接</strong>。</p><h3 id="_7-4-7-模糊查询" tabindex="-1"><a class="header-anchor" href="#_7-4-7-模糊查询"><span>7.4.7 模糊查询</span></a></h3><p><strong>语法</strong>：</p><ul><li><code>列名 LIKE &#39;唐_&#39;</code>下横线表示匹配<strong>单个</strong>任意字符；</li><li><code>列名 LIKE &#39;唐%&#39;</code>百分号表示匹配<strong>任意长度</strong>的字符串。</li><li><strong>模糊查询只能和LIKE关键字结合查询</strong>。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询名字以L开头的员工信息（编号、名字、薪资、部门编号）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,DEPARTMENT_ID </span></span>
<span class="line"><span>FROM t_employees WHERE FIRST_NAME LIKE &#39;L%&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-4-8-分支结构查询" tabindex="-1"><a class="header-anchor" href="#_7-4-8-分支结构查询"><span>7.4.8 分支结构查询</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPYCASE</span></span>
<span class="line"><span>	WHEN 条件1 THEN 结果1</span></span>
<span class="line"><span>	WHEN 条件2 THEN 结果2</span></span>
<span class="line"><span>	WHEN 条件3 THEN 结果3</span></span>
<span class="line"><span>	ELSE 结果</span></span>
<span class="line"><span>END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>通过使用CASE END进行条件判断</strong>，<strong>每条数据对应生成一个值</strong>。</li><li><strong>经验</strong>：类似JAVA中的switch。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询员工信息（编号、名字、薪资、薪资级别&lt;对应条件表达式生成&gt;）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,DEPARTMENT_ID,</span></span>
<span class="line"><span>CASE </span></span>
<span class="line"><span>	WHEN SALARY&gt;=10000 THEN &#39;A&#39;</span></span>
<span class="line"><span>	WHEN SALARY&gt;=8000 AND SALARY&lt;10000 THEN &#39;B&#39;</span></span>
<span class="line"><span>	WHEN SALARY&gt;=6000 AND SALARY&lt;8000 THEN &#39;C&#39;</span></span>
<span class="line"><span>	WHEN SALARY&gt;=4000 AND SALARY&lt;6000 THEN &#39;D&#39;</span></span>
<span class="line"><span>	ELSE &#39;E&#39;</span></span>
<span class="line"><span>END AS &#39;薪资级别&#39; FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CASE中判断的每一个SALARY数据都会生成对应的一个值，在返回的虚拟表中其集合单独作为一列，但列名为整个CASE体中的查询语句，为了查询结果的直观性，可以为CASE体取一个别名“薪资级别”。</p><figure><img src="/vuepress-starter/assets/5fad57551cd1bbb86b6721dc-CAvSKO25.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="_7-5-时间查询" tabindex="-1"><a class="header-anchor" href="#_7-5-时间查询"><span>7.5 时间查询</span></a></h2><p>时间查询都是调用的函数，所以会有参数列表，函数名后加括号。</p><p>语法：<code>SELECT 时间函数([参数列表])</code></p><ul><li><strong>经验</strong>：<strong>执行时间函数查询</strong>，<strong>会自动生成一张虚表</strong>（<strong>一行一列</strong>）</li></ul><table><thead><tr><th>时间函数</th><th>描述</th></tr></thead><tbody><tr><td>SYSDATE()</td><td>当前系统时间（日、月、年、时、分、秒）</td></tr><tr><td>CURDATE()</td><td>获取当前日期</td></tr><tr><td>CURTIME()</td><td>获取当前时间</td></tr><tr><td>WEEK(DATE)</td><td>获取指定日期为一年中的第几周</td></tr><tr><td>YEAR(DATE)</td><td>获取指定时间的年份</td></tr><tr><td>HOUR(TIME)</td><td>获取指定时间的小时值</td></tr><tr><td>MINUTE(TIME)</td><td>获取指定时间的分钟值</td></tr><tr><td>DATEDIFF(DATE1,DATE2)</td><td>获取DATE1和DATE2之间相隔的天数</td></tr><tr><td>ADDDATE(DATE,N)</td><td>计算DATE加锁N天后的日期</td></tr></tbody></table><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询当前时间</span></span>
<span class="line"><span>SELECT SYSDATE();</span></span>
<span class="line"><span>COPY#查询当前时间</span></span>
<span class="line"><span>SELECT NOW();</span></span>
<span class="line"><span>COPY#获取当前日期</span></span>
<span class="line"><span>SELECT CURDATE();</span></span>
<span class="line"><span>COPY#获取当前时间</span></span>
<span class="line"><span>SELECT CURTIME();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-6-字符串查询" tabindex="-1"><a class="header-anchor" href="#_7-6-字符串查询"><span>7.6 字符串查询</span></a></h2><p>语法：<code>SELECT 字符串函数([参数列表])</code></p><table><thead><tr><th>字符串函数</th><th>说明</th></tr></thead><tbody><tr><td>CONCAT(str1,str2,…)</td><td>将多个字符串连接</td></tr><tr><td>INSERT(str,post,len,newStr)</td><td>将str中指定post位置开始len长度的内容替换为newStr</td></tr><tr><td>LOWER(str)</td><td>将指定字符串转换为小写</td></tr><tr><td>UPPER(str)</td><td>将指定字符串转换为大写</td></tr><tr><td>SUBSTRING(str,num.len)</td><td>将str字符串指定num位置开始截取len个内容</td></tr></tbody></table><p>不同于JAVA，插入函数中post<strong>下标从1开始</strong>，比如这句话中下标为1的位置为“比”而不是“如”。</p><h3 id="_7-6-1-字符串应用" tabindex="-1"><a class="header-anchor" href="#_7-6-1-字符串应用"><span>7.6.1 字符串应用</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#拼接内容</span></span>
<span class="line"><span>SELECT CONCAT(&#39;My&#39;,&#39;SQ&#39;,&#39;L&#39;);</span></span>
<span class="line"><span>#MYSQL</span></span>
<span class="line"><span>COPY#字符串替换</span></span>
<span class="line"><span>SELECT INSERT(&#39;这是什么数据库&#39;,3,2,&#39;MySQL&#39;);</span></span>
<span class="line"><span>#这是MYSQL数据库</span></span>
<span class="line"><span>COPY#指定内容转换为小写</span></span>
<span class="line"><span>SELECT LOWER(&#39;MYSQL&#39;);</span></span>
<span class="line"><span>#mysql</span></span>
<span class="line"><span>COPY#指定内容转换为大写</span></span>
<span class="line"><span>SELECT UPPER(&#39;mysql&#39;);</span></span>
<span class="line"><span>#MYSQL</span></span>
<span class="line"><span>COPY#指定内容截取</span></span>
<span class="line"><span>SELECT SUBSTRING(&#39;JAVAMYSQLORACLE&#39;,5,5);</span></span>
<span class="line"><span>#MYSQL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-7-聚合函数" tabindex="-1"><a class="header-anchor" href="#_7-7-聚合函数"><span>7.7 聚合函数</span></a></h2><p>聚合函数是对列进行操作的函数。</p><p>语法：<code>SELECT 聚合函数(列名) FROM 表名;</code></p><ul><li><strong>经验</strong>：<strong>对多条数据的单列进行统计</strong>，<strong>返回统计后的一行结果</strong>。</li></ul><table><thead><tr><th>聚合函数</th><th>说明</th></tr></thead><tbody><tr><td>SUM()</td><td>求所有行中单列结果的总和</td></tr><tr><td>AVG()</td><td>平均值</td></tr><tr><td>MAX()</td><td>最大值</td></tr><tr><td>MIN()</td><td>最小值</td></tr><tr><td>COUNT()</td><td>求总行数</td></tr></tbody></table><h3 id="_7-7-1-单列总和" tabindex="-1"><a class="header-anchor" href="#_7-7-1-单列总和"><span>7.7.1 单列总和</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#统计所有员工每月的工资总和</span></span>
<span class="line"><span>SELECT SUM(SALARY) FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-7-2-单列平均值" tabindex="-1"><a class="header-anchor" href="#_7-7-2-单列平均值"><span>7.7.2 单列平均值</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#统计所有员工每月的平均工资</span></span>
<span class="line"><span>SELECT AVG(SALARY) FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-7-3-单列最大值" tabindex="-1"><a class="header-anchor" href="#_7-7-3-单列最大值"><span>7.7.3 单列最大值</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#统计所有员工中月薪最高的工资</span></span>
<span class="line"><span>SELECT MAX(SALARY) FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-7-4-单列最小值" tabindex="-1"><a class="header-anchor" href="#_7-7-4-单列最小值"><span>7.7.4 单列最小值</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#统计所有员工中月薪最低的工资</span></span>
<span class="line"><span>SELECT MIN(SALARY) FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-7-5-总行数" tabindex="-1"><a class="header-anchor" href="#_7-7-5-总行数"><span>7.7.5 总行数</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#统计员工总数</span></span>
<span class="line"><span>SELECT COUNT(*) FROM t_employees;#107</span></span>
<span class="line"><span>SELECT COUNT(EMPLOYEE_ID) FROM t_employees;#107</span></span>
<span class="line"><span>COPY#统计有提成的员工人数</span></span>
<span class="line"><span>SELECT COUNT(COMMISSION_PCT) FROM t_employees;#35</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因为提成列COMMISSION_PCT有NULL值，所以在根据列名统计表总行数时会比实际的表总行数会少很多，这个数字表名了拥有提成的员工数量。</p><ul><li>注意：聚合函数自动忽略NULL值，不进行统计。</li></ul><h2 id="_7-8-分组查询" tabindex="-1"><a class="header-anchor" href="#_7-8-分组查询"><span>7.8 分组查询</span></a></h2><p>语法：<code>SELECT 列名 FROM 表名 WHERE 条件 GROUP BY 分组依据(列);</code></p><table><thead><tr><th>关键字</th><th>说明</th></tr></thead><tbody><tr><td>GROUP BY</td><td>分组依据，必须在WHERE之后生效</td></tr></tbody></table><h3 id="_7-8-1-查询各部门的总人数" tabindex="-1"><a class="header-anchor" href="#_7-8-1-查询各部门的总人数"><span>7.8.1 查询各部门的总人数</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#思路</span></span>
<span class="line"><span>#1.按照部门编号进行分组（DEPARTMENT_ID）</span></span>
<span class="line"><span>#2.再针对各部门的人数进行统计（COUNT）</span></span>
<span class="line"><span>SELECT DEPARTMENT_ID,COUNT(EMPLOYEE_ID) </span></span>
<span class="line"><span>FROM t_employees GROUP BY DEPARTMENT_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-8-2-查询各部门的平均工资" tabindex="-1"><a class="header-anchor" href="#_7-8-2-查询各部门的平均工资"><span>7.8.2 查询各部门的平均工资</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#思路</span></span>
<span class="line"><span>#1.按照部门编号进行分组（分组依据DEPARTMENT_ID）</span></span>
<span class="line"><span>#2.针对每个部门进行平均工资统计。</span></span>
<span class="line"><span>SELECT DEPARTMENT_ID,AVG(SALARY) </span></span>
<span class="line"><span>FROM t_employees GROUP BY DEPARTMENT_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上两节的查询结果演示：</p><figure><img src="/vuepress-starter/assets/5fad69971cd1bbb86b6b10c8-Dbo4hYzE.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="_7-8-3-查询各个部门、各个岗位的人数" tabindex="-1"><a class="header-anchor" href="#_7-8-3-查询各个部门、各个岗位的人数"><span>7.8.3 查询各个部门、各个岗位的人数</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#思路</span></span>
<span class="line"><span>#1.按照部门编号进行分组（分组依据）</span></span>
<span class="line"><span>#2.按照岗位名称进行分组</span></span>
<span class="line"><span>#3.针对每个部门中的每个岗位进行人数统计</span></span>
<span class="line"><span>SELECT DEPARTMENT_ID,JOB_ID,COUNT(EMPLOYEE_ID) </span></span>
<span class="line"><span>FROM t_employees GROUP BY DEPARTMENT_ID,JOB_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/vuepress-starter/assets/5fad6c401cd1bbb86b6bc328-_HV2amZf.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="_7-8-4-常见问题" tabindex="-1"><a class="header-anchor" href="#_7-8-4-常见问题"><span>7.8.4 常见问题</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询各个部门id、总人数、first_name</span></span>
<span class="line"><span>SELECT DEPARTMENT_ID,COUNT(*),FIRST_NAME </span></span>
<span class="line"><span>FROM t_employees GROUP BY DEPARTMENT_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回的虚拟表中，前两列是对应的，而第三列一个名字无法对应第二列中多个人数。</p><figure><img src="/vuepress-starter/assets/5fad6df01cd1bbb86b6c20df-C8gc90QU.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><strong>分组查询中</strong>，<strong>SELECT选择的列只能是分组依据</strong>，<strong>或者聚合函数列</strong>，<strong>不能出现其他列</strong>。</p><h2 id="_7-9-分组过滤查询" tabindex="-1"><a class="header-anchor" href="#_7-9-分组过滤查询"><span>7.9 分组过滤查询</span></a></h2><p>语法：<code>SELECT 列名 FROM 表名 WHERE 条件 GROUNP BY 分组列 HAVING 过滤规则</code></p><table><thead><tr><th>关键字</th><th>说明</th></tr></thead><tbody><tr><td>HAVING过滤规则</td><td>过滤规则定义对分组后的数据进行过滤</td></tr></tbody></table><h3 id="_7-9-1-统计部门的最高工资" tabindex="-1"><a class="header-anchor" href="#_7-9-1-统计部门的最高工资"><span>7.9.1 统计部门的最高工资</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#思路</span></span>
<span class="line"><span>#1.确定分组依据（DEPARTMENT_ID）</span></span>
<span class="line"><span>#2.对分组后的数据，过滤出部门编号是60、70、90信息</span></span>
<span class="line"><span>#3.MAX()函数</span></span>
<span class="line"><span>SELECT DEPARTMENT_ID,MAX(SALARY) </span></span>
<span class="line"><span>FROM t_employees GROUP BY DEPARTMENT_ID </span></span>
<span class="line"><span>HAVING DEPARTMENT_ID IN (60,70,90);</span></span>
<span class="line"><span>#GROUP确定分组依据DEPARTMENT_ID</span></span>
<span class="line"><span>#HAVING过滤出60，70，90的部门</span></span>
<span class="line"><span>#SELECT查看部门编号和MAX函数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-10-限定查询" tabindex="-1"><a class="header-anchor" href="#_7-10-限定查询"><span>7.10 限定查询</span></a></h2><p><strong>语法</strong>：<code>SELECT 列名 FROM 表名 LIMIT 起始行,查询行数</code></p><table><thead><tr><th>关键字</th><th>说明</th></tr></thead><tbody><tr><td>LIMIT offset_start,row_count</td><td>限定查询结果的起始行和总行数</td></tr></tbody></table><h3 id="_7-10-1-查询前5行记录" tabindex="-1"><a class="header-anchor" href="#_7-10-1-查询前5行记录"><span>7.10.1 查询前5行记录</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询表中前五名员工的所有信息</span></span>
<span class="line"><span>SELECT * FROM t_employees LIMIT 0,5;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>起始行是从0开始</strong>，<strong>代表了第一行</strong>，<strong>第二个参数代表的是从指定行开始查询几行</strong>。</li></ul><h3 id="_7-10-2-查询范围记录" tabindex="-1"><a class="header-anchor" href="#_7-10-2-查询范围记录"><span>7.10.2 查询范围记录</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询表中从第四行开始，查询10行</span></span>
<span class="line"><span>SELECT * FROM t_employees LIMIT 3,10;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-10-3-limit典型应用" tabindex="-1"><a class="header-anchor" href="#_7-10-3-limit典型应用"><span>7.10.3 LIMIT典型应用</span></a></h3><p>分页查询：一页显示10条，一共查询三页。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#思路：第一页是从0开始，显示10条</span></span>
<span class="line"><span>SELECT * FROM t_employees LIMIT 0,10;</span></span>
<span class="line"><span>#第二页是从10条开始，显示10条</span></span>
<span class="line"><span>SELECT * FROM t_employees LIMIT 10,10;</span></span>
<span class="line"><span>#第三页是从20条开始，显示10条</span></span>
<span class="line"><span>SELECT * FROM t_employees LIMIT 20,10;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>经验</strong>：<strong>在分页应用场景中</strong>，<strong>起始行是变化的</strong>，<strong>但是一页显示的条数是不变的</strong>。</li></ul><h2 id="_7-11-查询总结" tabindex="-1"><a class="header-anchor" href="#_7-11-查询总结"><span>7.11 查询总结</span></a></h2><h3 id="_7-11-1-sql语句编写顺序" tabindex="-1"><a class="header-anchor" href="#_7-11-1-sql语句编写顺序"><span>7.11.1 SQL语句编写顺序</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SELECT 列名 FROM 表名 WHERE 条件 GROUP BY 分组 HAVING 过滤条件 ORDER BY 排序列(ASC|DESC) LIMIT 起始行,查询行数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_7-11-2-sql语句执行顺序" tabindex="-1"><a class="header-anchor" href="#_7-11-2-sql语句执行顺序"><span>7.11.2 SQL语句执行顺序</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY1.FROM:指定数据来源表</span></span>
<span class="line"><span>2.WHERE:对查询数据第一次过滤</span></span>
<span class="line"><span>3.GROUP BY:分组</span></span>
<span class="line"><span>4.HAVING:对分组后的数据第二次过滤</span></span>
<span class="line"><span>5.SELECT:查询各字段的值</span></span>
<span class="line"><span>6.ORDER BY:排序</span></span>
<span class="line"><span>7.LIMIT:限定查询结果</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-12-子查询-作为条件判断" tabindex="-1"><a class="header-anchor" href="#_7-12-子查询-作为条件判断"><span>7.12 子查询（作为条件判断）</span></a></h2><p><strong>语法</strong>：<code>SELECT 列名 FROM 表名 WHERE 条件(子查询结果)</code></p><h3 id="_7-12-1-查询工资大于bruce的员工信息" tabindex="-1"><a class="header-anchor" href="#_7-12-1-查询工资大于bruce的员工信息"><span>7.12.1 查询工资大于Bruce的员工信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#1.先查询到Bruce的工资（一行一列）</span></span>
<span class="line"><span>SELECT SALARY FROM t_employees WHERE FIRST_NAME = &#39;Bruce&#39;;</span></span>
<span class="line"><span>#2.查询工资大于Bruce的员工信息</span></span>
<span class="line"><span>SELECT * FROM t_employees WHERE SALARY &gt; 6000;</span></span>
<span class="line"><span>#3.将前两句整合</span></span>
<span class="line"><span>SELECT * FROM t_employees </span></span>
<span class="line"><span>WHERE SALARY &gt; </span></span>
<span class="line"><span>(SELECT SALARY FROM t_employees WHERE FIRST_NAME = &#39;Bruce&#39;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>将子查询</strong>“<strong>一行一列</strong>”<strong>的结果作为外部查询的条件</strong>，<strong>做第二次查询</strong>。</li><li><strong>子查询得到一行一列的结果才能作为外部查询的等值判断条件或不等值判断条件</strong>。</li></ul><h3 id="_7-13-子查询-作为枚举查询条件" tabindex="-1"><a class="header-anchor" href="#_7-13-子查询-作为枚举查询条件"><span>7.13 子查询（作为枚举查询条件）</span></a></h3><p><strong>语法</strong>：<code>SELECT 列名 FROM 表名 WHERE 列名 IN (子查询结果);</code></p><h3 id="_7-13-1-查询与名为-king-同一部门的员工信息" tabindex="-1"><a class="header-anchor" href="#_7-13-1-查询与名为-king-同一部门的员工信息"><span>7.13.1 查询与名为“KING”同一部门的员工信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#思路</span></span>
<span class="line"><span>#1.先查询KING所在的部门编号</span></span>
<span class="line"><span>SELECT DEPARTMENT_ID FROM t_employees WHERE LAST_NAME = &#39;King&#39;;#80,90</span></span>
<span class="line"><span>#2.再查询80，90号部门的员工信息</span></span>
<span class="line"><span>SELECT * FROM t_employees WHERE DEPARTMENT_ID IN(80,90);</span></span>
<span class="line"><span>#3.SQL:合并</span></span>
<span class="line"><span>SELECT * FROM t_employees </span></span>
<span class="line"><span>WHERE DEPARTMENT_ID IN</span></span>
<span class="line"><span>(SELECT DEPARTMENT_ID FROM t_employees WHERE LAST_NAME = &#39;King&#39;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>将子查询</strong>“<strong>多行一列</strong>”<strong>的结果作为外部查询的枚举查询条件</strong>，<strong>做第二次查询</strong>。</li></ul><h3 id="_7-13-2-工资高于60编号部门的员工信息" tabindex="-1"><a class="header-anchor" href="#_7-13-2-工资高于60编号部门的员工信息"><span>7.13.2 工资高于60编号部门的员工信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#1.查询60编号部门所有人的工资（多行单列）</span></span>
<span class="line"><span>SELECT SALARY FROM t_employees WHERE DEPARTMENT_ID = 60;</span></span>
<span class="line"><span>#2.查询工资高于60编号部门所有人的工资的员工信息（高于所有）</span></span>
<span class="line"><span>SELECT * FROM t_employees </span></span>
<span class="line"><span>WHERE SALARY &gt; </span></span>
<span class="line"><span>ALL(SELECT SALARY FROM t_employees WHERE DEPARTMENT_ID = 60);</span></span>
<span class="line"><span>#3.查询工资高于60编号部门的员工信息（高于部分）</span></span>
<span class="line"><span>SELECT * FROM t_employees </span></span>
<span class="line"><span>WHERE SALARY &gt; </span></span>
<span class="line"><span>ANY(SELECT SALARY FROM t_employees WHERE DEPARTMENT_ID = 60);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>当子查询结果集形式为多行单列时可以使用ANY或ALL关键字</strong>。</li></ul><p>ALL表示查询高于部门所有员工工资的员工信息；ANY表示查询只需要高于部门中任意一名员工工资的员工信息，结果演示如下图。</p><figure><img src="https://pic.downk.cc/item/5fae46671cd1bbb86b967027.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="_7-14-子查询-作为一张表" tabindex="-1"><a class="header-anchor" href="#_7-14-子查询-作为一张表"><span>7.14 子查询（作为一张表）</span></a></h2><p>查询到一张多行多列的临时表，这张表也可以作为查询数据源。</p><p><strong>语法</strong>：<code>SELECT 列名 FROM (子查询的结果集) WHERE 条件;</code></p><h3 id="_7-14-1-查询员工表中工资排名前5名的员工信息" tabindex="-1"><a class="header-anchor" href="#_7-14-1-查询员工表中工资排名前5名的员工信息"><span>7.14.1 查询员工表中工资排名前5名的员工信息</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#思路：</span></span>
<span class="line"><span>#1.先对所有员工的薪资进行排序（排序后的临时表）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM t_employees ORDER BY SALARY DESC;</span></span>
<span class="line"><span>#2.再查询临时表中前5行员工信息</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM (临时表) LIMIT 0,5;</span></span>
<span class="line"><span>#3.合并</span></span>
<span class="line"><span>SELECT * FROM </span></span>
<span class="line"><span>(SELECT EMPLOYEE_ID,FIRST_NAME,SALARY FROM t_employees ORDER BY SALARY DESC) AS 临时表 LIMIT 0,5;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>将子查询</strong>“<strong>多行多列</strong>“<strong>的结果作为外部查询的一张表</strong>，<strong>做第二次查询</strong>。</li><li><strong>注意</strong>：<strong>子查询作为临时表</strong>，<strong>需要为其赋予一个临时表名</strong>。</li></ul><h2 id="_7-15-合并查询" tabindex="-1"><a class="header-anchor" href="#_7-15-合并查询"><span>7.15 合并查询</span></a></h2><p><strong>语法</strong>：</p><ul><li><code>SELECT * FROM 表名1 UNION SELECT * FROM 表名2</code></li><li><code>SELECT * FROM 表名1 UNION ALL SELECT * FROM 表名2</code></li></ul><p>返回的查询结果是将表1的结果和表2的结果做了一个合并。</p><h3 id="_7-15-1-合并两张表的结果-去除重复记录" tabindex="-1"><a class="header-anchor" href="#_7-15-1-合并两张表的结果-去除重复记录"><span>7.15.1 合并两张表的结果（去除重复记录）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#合并两张表的结果，去除重复记录</span></span>
<span class="line"><span>SELECT * FROM T1 UNION SELECT * FROM T2;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>合并结果的两张表</strong>，<strong>列数必须相同</strong>，<strong>列的数据类型可以不同</strong>。</li></ul><p>列数必须相同是因为该合并做了一个纵向合并，两个4列多行的结果集表合并后也是一个4列多行的表，但是合并后的列名以第一个结果集表为准。</p><h3 id="_7-15-2-合并两张表的结果-保留重复记录" tabindex="-1"><a class="header-anchor" href="#_7-15-2-合并两张表的结果-保留重复记录"><span>7.15.2 合并两张表的结果（保留重复记录）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#合并两张表的结果，不去除重复记录（显示所有）</span></span>
<span class="line"><span>SELECT * FROM T1 UNION ALL SELECT * FROM T2;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>该合并结果会保留两张查询表中重复的记录，而UNION只保留第一个不重复的记录</p><h2 id="_7-16-表连接查询" tabindex="-1"><a class="header-anchor" href="#_7-16-表连接查询"><span>7.16 表连接查询</span></a></h2><p>语法：<code>SELECT 列名 FROM 表1 连接方式 表2 ON 连接条件</code></p><h3 id="_7-16-1-内连接查询-inner-join-on" tabindex="-1"><a class="header-anchor" href="#_7-16-1-内连接查询-inner-join-on"><span>7.16.1 内连接查询（INNER JOIN ON）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#1.查询所有员工的职员和职位信息 SQL标准</span></span>
<span class="line"><span>SELECT * FROM t_employees INNER JOIN t_jobs </span></span>
<span class="line"><span>ON t_employees.JOB_ID = t_jobs.JOB_ID;</span></span>
<span class="line"><span>#2.查询所有员工的职员和职位信息 MYSQL</span></span>
<span class="line"><span>SELECT * FROM t_employees,t_jobs WHERE t_employees.JOB_ID = t_jobs.JOB_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果没有指定连接条件，则会造成笛卡尔积的结果，第一张表中的每行数据都会和第二张表进行连接。</p><ul><li><strong>经验</strong>：<strong>在MySQL中</strong>，<strong>第二种方式也可以作为内连接查询</strong>，<strong>但是不符合SQL标准</strong>。</li><li><strong>而第一种属于SQL标准</strong>，<strong>与其他关系型数据库通用</strong>。</li></ul><h3 id="_7-16-2-三表连接查询" tabindex="-1"><a class="header-anchor" href="#_7-16-2-三表连接查询"><span>7.16.2 三表连接查询</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询所有员工工号、名字、部门名称、部门所在国家ID</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,t_departments.DEPARTMENT_NAME,t_locations.COUNTRY_ID </span></span>
<span class="line"><span>FROM t_employees</span></span>
<span class="line"><span>INNER JOIN t_departments ON	</span></span>
<span class="line"><span>t_employees.DEPARTMENT_ID=t_departments.DEPARTMENT_ID</span></span>
<span class="line"><span>INNER JOIN t_locations ON	</span></span>
<span class="line"><span>t_departments.LOCATION_ID=t_locations.LOCATION_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该语句查询出来的结果没有员工编号为178的员工信息，该名员工的部门ID为NULL，不符合连接条件，所以不包含在匹配出的结果集中，你可以自己动手尝试并查看结果。之所以提这个是因为可以与下节的语句区分开来。</p><h3 id="_7-16-3-左外连接-left-join-on" tabindex="-1"><a class="header-anchor" href="#_7-16-3-左外连接-left-join-on"><span>7.16.3 左外连接（LEFT JOIN ON）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询所有员工的工号、名字、工资及其对应的部门名称（没有部门的员工也在查询结果中，部门名称以NULL值补充）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,DEPARTMENT_NAME </span></span>
<span class="line"><span>FROM t_employees</span></span>
<span class="line"><span>LEFT JOIN t_departments </span></span>
<span class="line"><span>ON t_departments.DEPARTMENT_ID=t_employees.DEPARTMENT_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该语句查询出来的结果包含没有部门的178号员工，DEPARTMENT_NAME的值被填充为NULL。</p><ul><li><strong>注意</strong>：<strong>左外连接</strong>，<strong>是以左表作为主表</strong>，<strong>依次向右匹配</strong>，<strong>匹配到则返回结果</strong>；</li><li><strong>匹配不到则返回NULL值填充</strong>。</li></ul><h3 id="_7-16-4-右外连接-right-join-on" tabindex="-1"><a class="header-anchor" href="#_7-16-4-右外连接-right-join-on"><span>7.16.4 右外连接（RIGHT JOIN ON）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询所有部门信息，以及此部门中的所有员工信息（没有员工的部门也在查询结果中，员工信息以NULL值填充）</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,SALARY,DEPARTMENT_NAME </span></span>
<span class="line"><span>FROM t_employees</span></span>
<span class="line"><span>RIGHT JOIN t_departments </span></span>
<span class="line"><span>ON t_departments.DEPARTMENT_ID=t_employees.DEPARTMENT_ID;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该查询结果以部门表作为主表，有些部门没有员工，其员工信息全部为NULL。</p><ul><li><strong>注意</strong>：<strong>右外连接</strong>，<strong>是以右表为主表</strong>，<strong>依次向左匹配</strong>，<strong>匹配到返回结果</strong>。</li><li><strong>匹配不到</strong>，<strong>则返回NULL值填充</strong>。</li></ul><h1 id="八、dml操作" tabindex="-1"><a class="header-anchor" href="#八、dml操作"><span>八、DML操作</span></a></h1><hr><p>DDL（Data Manipulation Language）数据库操纵语言，是其中一类SQL语言，其实也就是<strong>增删改</strong>。</p><h2 id="_8-1-新增-insert" tabindex="-1"><a class="header-anchor" href="#_8-1-新增-insert"><span>8.1 新增（INSERT）</span></a></h2><p><strong>语法</strong>：<code>INSERT INTO 表名(列1,列2,列3......) VALUES(值1,值2,值3......);</code></p><h2 id="_8-1-1-添加一条信息" tabindex="-1"><a class="header-anchor" href="#_8-1-1-添加一条信息"><span>8.1.1 添加一条信息</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#添加一条岗位信息</span></span>
<span class="line"><span>INSERT INTO t_jobs(JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY) </span></span>
<span class="line"><span>VALUES(&#39;JAVA_LE&#39;,&#39;Java Lecturer&#39;,6000,1200);</span></span>
<span class="line"><span>COPY#添加一条员工信息</span></span>
<span class="line"><span>INSERT INTO t_employees(EMPLOYEE_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY,COMMISSION_PCT,MANAGER_ID,DEPARTMENT_ID)</span></span>
<span class="line"><span>VALUES(&#39;036&#39;,&#39;Tang&#39;,&#39;Rui&#39;,&#39;xxx@qq.com&#39;,&#39;10086&#39;,&#39;2020-11-14&#39;,&#39;JAVA_LE&#39;,&#39;11000&#39;,&#39;0.6&#39;,null,&#39;60&#39;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>表名后的列名要和VALUE里的值一一对应</strong>（<strong>个数</strong>、<strong>顺序</strong>、<strong>类型</strong>）。</li></ul><h2 id="_8-2-修改-updata" tabindex="-1"><a class="header-anchor" href="#_8-2-修改-updata"><span>8.2 修改（UPDATA）</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#修改编号为036的员工工资为25000</span></span>
<span class="line"><span>UPDATE t_employees SET SALARY = 25000 WHERE EMPLOYEE_ID = &#39;036&#39;;</span></span>
<span class="line"><span>COPY#修改编号为135的员工信息岗位编号为 ST_MAN，工资为3500</span></span>
<span class="line"><span>UPDATE t_employees SET JOB_ID = &#39;ST_MAN&#39;,SALARY = 3500 WHERE EMPLOYEE_ID = &#39;135&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>SET后多个列名=值</strong>，<strong>绝大多数情况下都要加WHERE条件指定修改</strong>，<strong>否则为整表更新</strong>。</li></ul><h2 id="_8-3-删除-delete" tabindex="-1"><a class="header-anchor" href="#_8-3-删除-delete"><span>8.3 删除（DELETE）</span></a></h2><p>语法：<code>DELETE FROM 表名 WHERE 条件;</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#删除编号为135的员工</span></span>
<span class="line"><span>DELETE FROM t_employees WHERE EMPLOYEE_ID = &#39;135&#39;;</span></span>
<span class="line"><span>COPY#删除姓Peter,并且名为Hall的员工</span></span>
<span class="line"><span>DELETE FROM t_employees WHERE EMPLOYEE_ID = &#39;135&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>删除时</strong>，<strong>如果不加条件</strong>，<strong>则默认删除整张表</strong>。</li></ul><p>用DELETE删除整表是不彻底的，它只是删除了内容，并没有改变表的结构。</p><h2 id="_8-4-清空整表数据-truncate" tabindex="-1"><a class="header-anchor" href="#_8-4-清空整表数据-truncate"><span>8.4 清空整表数据（TRUNCATE）</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPYTRUNCATE TABLE 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_8-4-1-清空整张表" tabindex="-1"><a class="header-anchor" href="#_8-4-1-清空整张表"><span>8.4.1 清空整张表</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#清空t1整张表</span></span>
<span class="line"><span>TRUNCATE TABLE t1;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>与DELETE不加WHERE删除整表数据不同</strong>，<strong>TRUNCATE是把原表销毁</strong>，<strong>再按原表的格式创建一张新表</strong>。</li></ul><h1 id="九、数据表操作" tabindex="-1"><a class="header-anchor" href="#九、数据表操作"><span>九、数据表操作</span></a></h1><hr><h2 id="_9-1-数据类型" tabindex="-1"><a class="header-anchor" href="#_9-1-数据类型"><span>9.1 数据类型</span></a></h2><p>MySQL支持多种类型，大致可以分为三类：数值、日期/时间和字符串（字符）类型。对于我们约束数据的类型有很大的帮助。</p><h3 id="_9-1-1-数值类型" tabindex="-1"><a class="header-anchor" href="#_9-1-1-数值类型"><span>9.1.1 数值类型</span></a></h3><table><thead><tr><th>类型</th><th>大小</th><th>范围（有符号）</th><th>范围（无符号）</th><th>用途</th></tr></thead><tbody><tr><td>INT</td><td>4字节</td><td>(-2147483648,2147483647)</td><td>(0,4294967295)</td><td>大整数值</td></tr><tr><td>DOUBLE</td><td>8字节</td><td>(-1.797E+308,-2.22E-308)</td><td>0,(2.22E-308,1.797E+308)</td><td>双精度浮点数值</td></tr><tr><td>DOUBLE(M,D)</td><td>8字节，M表示长度，D表示小数位数</td><td>同上，受M和D的约束；如DOUBLE(5,2) -999.99~999.99</td><td>同上，受M和D的约束</td><td>双精度浮点数值</td></tr><tr><td>DECIMAL(M,D)</td><td>DECIMAL(M,D)</td><td>依赖于M和D的值，M最大值为65</td><td>依赖于M和D的值，M最大值为65</td><td>小数值</td></tr></tbody></table><h3 id="_9-1-2-日期类型" tabindex="-1"><a class="header-anchor" href="#_9-1-2-日期类型"><span>9.1.2 日期类型</span></a></h3><table><thead><tr><th>类型</th><th>大小</th><th>范围</th><th>格式</th><th>用途</th></tr></thead><tbody><tr><td><strong>DATE</strong></td><td>3</td><td>1000-01-01/9999-12-31</td><td>YYYY-MM-DD</td><td>日期值</td></tr><tr><td>TIME</td><td>3</td><td>‘-838:59:59’/‘838:59:59’</td><td>HH:MM:SS</td><td>时间值或持续时间</td></tr><tr><td>YEAR</td><td>1</td><td>1901/2155</td><td>YYYY</td><td>年份值</td></tr><tr><td><strong>DETETIME</strong></td><td>8</td><td>1000-01-01 00:00:00/9999-12-31 23:59:59</td><td>YYYY-MM-DD HH:MM:SS</td><td>混合日期和时间值</td></tr><tr><td>TIMESTAMP</td><td>4</td><td>1970-01-01 00:00:00/2038结束时间是第 <strong>2147483647</strong> 秒，北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td><td>YYYYMMDD HHMMSS</td><td>混合日期和时间值，时间戳</td></tr></tbody></table><h3 id="_9-1-3-字符串类型" tabindex="-1"><a class="header-anchor" href="#_9-1-3-字符串类型"><span>9.1.3 字符串类型</span></a></h3><table><thead><tr><th>类型</th><th>大小</th><th>用途</th></tr></thead><tbody><tr><td>CHAR</td><td>0-255 bytes</td><td>定长字符串</td></tr><tr><td>VARCHAR</td><td>0-65535 bytes</td><td>变长字符串</td></tr><tr><td>BLOB（binary large object）</td><td>0-65 535 bytes</td><td>二进制形式的长文本数据</td></tr><tr><td>TEXT</td><td>0-65 535 bytes</td><td>长文本数据</td></tr></tbody></table><ul><li>CHAR和VARCHAR类型类似，但它们保存和检索的方式不同。它们的最大长度和是否尾部空格被保留等方面也不同，CHAR(N)会将多余的存储位以空格补足，而VARCHAR(N)则会根据实际存储长度进行“压缩”。在存储或检索过程中不进行大小写转换。</li><li>BLOB是一个二进制大对象，可以容纳可变数量的数据。有4种BLOB类型：TINYBLOB、BLOB、MEDIUMBLOB和LONGBLOB。它们只是可容纳值的最大长度不同。</li></ul><h2 id="_9-2-数据表的创建-create" tabindex="-1"><a class="header-anchor" href="#_9-2-数据表的创建-create"><span>9.2 数据表的创建（CREATE）</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPYCREATE TABLE 表名(</span></span>
<span class="line"><span>    列名 数据类型 [约束],</span></span>
<span class="line"><span>    列名 数据类型 [约束],</span></span>
<span class="line"><span>    ......</span></span>
<span class="line"><span>    列名 数据类型 [约束]#最后一行的末尾不加逗号</span></span>
<span class="line"><span>)[CHARSET=UTF8]#可根据需要指定表的字符编码集</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>括号内的内容为可选。</p><h3 id="_9-2-1-创建表" tabindex="-1"><a class="header-anchor" href="#_9-2-1-创建表"><span>9.2.1 创建表</span></a></h3><table><thead><tr><th>列名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>subject_id</td><td>INT</td><td>课程编号</td></tr><tr><td>subject_name</td><td>VARCHAR(20)</td><td>课程时间</td></tr><tr><td>subject_hours</td><td>INT</td><td>课程课长</td></tr></tbody></table><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#根据上述表格创建数据库，并向表中插入3条测试语句</span></span>
<span class="line"><span>CREATE TABLE `t_subject` (</span></span>
<span class="line"><span>  `subject_id` int,</span></span>
<span class="line"><span>  `subject_name` varchar(20),</span></span>
<span class="line"><span>  `subject_hours` int(11)</span></span>
<span class="line"><span>)CHARSET=utf8;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>INSERT INTO t_subject(subject_id,subject_name,subject_hours) </span></span>
<span class="line"><span>VALUES(1,&#39;JAVA&#39;,40);</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_id,subject_name,subject_hours) </span></span>
<span class="line"><span>VALUES(2,&#39;MYSQL&#39;,30);</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(3,&#39;JAVASCRIPT&#39;,20)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-3-数据表的修改-alter" tabindex="-1"><a class="header-anchor" href="#_9-3-数据表的修改-alter"><span>9.3 数据表的修改（ALTER）</span></a></h2><p><strong>语法</strong>：<code>ALTER TABLE 表名 操作;</code></p><h3 id="_9-3-1-向现有表中添加列" tabindex="-1"><a class="header-anchor" href="#_9-3-1-向现有表中添加列"><span>9.3.1 向现有表中添加列</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#在课程表基础上添加grade_id列</span></span>
<span class="line"><span>ALTER TABLE t_subject ADD grade_id INT;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-2-修改表中的列" tabindex="-1"><a class="header-anchor" href="#_9-3-2-修改表中的列"><span>9.3.2 修改表中的列</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#修改课程表中的课程名称长度为10个字符</span></span>
<span class="line"><span>ALTER TABLE t_subject MODIFY subject_name VARCHAR(10);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>修改表中的某列时</strong>，<strong>也要写全列的名字</strong>，<strong>数据类型</strong>，<strong>约束</strong>。</li></ul><h3 id="_9-3-3-删除表中的列" tabindex="-1"><a class="header-anchor" href="#_9-3-3-删除表中的列"><span>9.3.3 删除表中的列</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#删除课程表中grade_id列</span></span>
<span class="line"><span>ALTER TABLE t_subject DROP grade_id;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>删除列时</strong>，<strong>每次只能删一列</strong>。</li></ul><h3 id="_9-3-4-修改列名" tabindex="-1"><a class="header-anchor" href="#_9-3-4-修改列名"><span>9.3.4 修改列名</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#修改课程表中subject_hours列为class_hours</span></span>
<span class="line"><span>ALTER TABLE t_subject CHANGE subject_hours class_hours INT;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>修改列名时</strong>，<strong>在给定列新名称时</strong>，<strong>要指定列的类型和约束</strong>。</li></ul><h3 id="_9-3-5-修改表名" tabindex="-1"><a class="header-anchor" href="#_9-3-5-修改表名"><span>9.3.5 修改表名</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#修改课程表的t_subject为t_sub</span></span>
<span class="line"><span>ALTER TABLE t_subject RENAME t_sub;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-4-数据表的删除-drop" tabindex="-1"><a class="header-anchor" href="#_9-4-数据表的删除-drop"><span>9.4 数据表的删除（DROP）</span></a></h2><p><strong>语法</strong>：<code>DROP TABLE 表名</code></p><h3 id="_9-4-1-删除课程表" tabindex="-1"><a class="header-anchor" href="#_9-4-1-删除课程表"><span>9.4.1 删除课程表</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#删除课程表</span></span>
<span class="line"><span>DROP TABLE t_sub;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="十、约束" tabindex="-1"><a class="header-anchor" href="#十、约束"><span>十、约束</span></a></h1><hr><p>问题：在往已创建表中新增数据时，可不可以新增两行相同列的数据？如果可行，会有什么弊端？</p><p>这是可以的，但重复的数据不仅会浪费空间，而且对查询结果不利，也是多余的。在实际的存储中应尽量保证每条数据的唯一性。</p><h2 id="_10-1-实体完整性约束" tabindex="-1"><a class="header-anchor" href="#_10-1-实体完整性约束"><span>10.1 实体完整性约束</span></a></h2><p>表中的一行数据代表一个实体（entity），实体完整性的作用即是标识每一行数据不重复，实体唯一。</p><h3 id="_10-1-1-主键约束" tabindex="-1"><a class="header-anchor" href="#_10-1-1-主键约束"><span>10.1.1 主键约束</span></a></h3><p><strong>关键词</strong>：<code>PRIMARY KEY</code>唯一，标识表中的一行数据，此列的值不可重复，且<strong>不能</strong>为NULL。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#为表中适用主键的列添加主键约束</span></span>
<span class="line"><span>CREATE TABLE t_subject(</span></span>
<span class="line"><span>#课程标号标识了每一个课程的编号唯一，且不能为NULL</span></span>
<span class="line"><span>subject_id INT PRIMARY KEY,</span></span>
<span class="line"><span>subject_name VARCHAR(20),</span></span>
<span class="line"><span>subject_hours INT</span></span>
<span class="line"><span>)CHARSET=utf8;</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(1,&#39;JAVA&#39;,40);</span></span>
<span class="line"><span>#报错，主键subject_id不可重复</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(1,&#39;JAVA&#39;,40);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>作为主键的字段一般都是也应该是编号、学号、工号等字段。</p><h3 id="_10-1-2-唯一约束" tabindex="-1"><a class="header-anchor" href="#_10-1-2-唯一约束"><span>10.1.2 唯一约束</span></a></h3><p><strong>关键字</strong>：<code>UNIQUE</code>唯一，标识表中的一行数据，不可重复，<strong>可以</strong>为NULL。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#为表中列值不允许重复的列添加唯一约束</span></span>
<span class="line"><span>ALTER TABLE t_subject MODIFY subject_name VARCHAR(20) UNIQUE;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(1,&#39;JAVA&#39;,40);</span></span>
<span class="line"><span>#报错，课程名已存在</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_id,subject_name,subject_hours) VALUES(2,&#39;JAVA&#39;,40);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-1-3-自动增长列" tabindex="-1"><a class="header-anchor" href="#_10-1-3-自动增长列"><span>10.1.3 自动增长列</span></a></h3><p>关键字：<code>AUTO_INCREAMENT</code>自动增长，给<strong>主键数值列</strong>添加自动增长。从1开始，每次加1。不能单独使用，和主键配合。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#为表中主键列添加自动增长，避免忘记主键ID序号</span></span>
<span class="line"><span>ALTER TABLE t_subject MODIFY subject_id INT AUTO_INCREMENT;</span></span>
<span class="line"><span>#课程ID自动增长为2</span></span>
<span class="line"><span>INSERT INTO t_subject ( subject_name, subject_hours ) VALUES( &#39;HTML5&#39;, 40 );</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-2-域完整性约束" tabindex="-1"><a class="header-anchor" href="#_10-2-域完整性约束"><span>10.2 域完整性约束</span></a></h2><p>该约束限制单元格的数据正确性。</p><h3 id="_10-2-1-非空约束" tabindex="-1"><a class="header-anchor" href="#_10-2-1-非空约束"><span>10.2.1 非空约束</span></a></h3><p>语法：<code>NOT NULL</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#课程名称虽然添加了唯一约束，但是有NULL值存在的可能，要避免课程名称为NULL。</span></span>
<span class="line"><span>ALTER TABLE t_subject MODIFY subject_name VARCHAR(20) NOT NULL;</span></span>
<span class="line"><span>#报错，课程名不能为空</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_name,subject_hours) VALUES (NULL,40);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-2-2-默认值约束" tabindex="-1"><a class="header-anchor" href="#_10-2-2-默认值约束"><span>10.2.2 默认值约束</span></a></h3><p><strong>关键字</strong>：<code>DEFAULT 值</code>。为列赋予默认值，当新增数据不指定值时，书写DEFAULT，以指定的默认值进行填充。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#当存储课程信息时，若课程时长没有指定值，则以默认值进行填充</span></span>
<span class="line"><span>ALTER TABLE t_subject MODIFY subject_hours INT DEFAULT 40;</span></span>
<span class="line"><span>#不写默认课程时为40，也可以把值写成DEFAULT</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_name) VALUES(&#39;JAVAWEB&#39;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-2-3-引用完整性约束" tabindex="-1"><a class="header-anchor" href="#_10-2-3-引用完整性约束"><span>10.2.3 引用完整性约束</span></a></h3><p><strong>语法</strong>：<code>CONSTRAINT 引用名 FOREIGN KEY (列名) REFERENCES 被引用表名(列名)</code></p><p><strong>解释</strong>：FOREIGN KEY<strong>引用外部表某个列的值</strong>，新增数据时，约束此列的值<strong>必须是引用表中存在的值</strong>。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#创建专业表</span></span>
<span class="line"><span>CREATE TABLE t_speciality(</span></span>
<span class="line"><span>	special_id INT PRIMARY KEY AUTO_INCREMENT,</span></span>
<span class="line"><span>	special_name VARCHAR(20) UNIQUE NOT NULL</span></span>
<span class="line"><span>)CHARSET=utf8;</span></span>
<span class="line"><span>#添加一些专业信息</span></span>
<span class="line"><span>INSERT INTO t_speciality(special_name) VALUES(&#39;HTML5&#39;);</span></span>
<span class="line"><span>INSERT INTO t_speciality(special_name) VALUES(&#39;JAVA&#39;);</span></span>
<span class="line"><span>INSERT INTO t_speciality(special_name) VALUES(&#39;JAVAWEB&#39;);</span></span>
<span class="line"><span>INSERT INTO t_speciality(special_name) VALUES(&#39;数据结构&#39;);</span></span>
<span class="line"><span>#subject_id引用special_id</span></span>
<span class="line"><span>ALTER TABLE t_subject ADD </span></span>
<span class="line"><span>CONSTRAINT fk_subject_spacial FOREIGN KEY(special_id) REFERENCES t_speciality(special_id);</span></span>
<span class="line"><span>#添加数据成功</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_name,special_id) VALUES(&#39;数据结构&#39;,4);</span></span>
<span class="line"><span>#添加失败，主表中不存在5</span></span>
<span class="line"><span>INSERT INTO t_subject(subject_name,special_id) VALUES(&#39;操作系统&#39;,5);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>当两张表存在引用关系时</strong>，<strong>要执行删除操作</strong>，<strong>一定要先删除从表</strong>（<strong>引用表</strong>），<strong>再删除主表</strong>（<strong>被引用表</strong>）。</li></ul><h2 id="_10-3-约束创建整合" tabindex="-1"><a class="header-anchor" href="#_10-3-约束创建整合"><span>10.3 约束创建整合</span></a></h2><p>创建带有约束的表。</p><table><thead><tr><th>列名</th><th>数据类型</th><th>约束</th><th>说明</th></tr></thead><tbody><tr><td>grade_id</td><td>INT</td><td>主键、自动增长</td><td>班级编号</td></tr><tr><td>grade_name</td><td>VARCHAR(20)</td><td>唯一、非空</td><td>班级名称</td></tr></tbody></table><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPYCREATE TABLE t_grade(</span></span>
<span class="line"><span>	grade_id INT PRIMARY KEY AUTO_INCREMENT,</span></span>
<span class="line"><span>	grade_name VARCHAR(20) UNIQUE NOT NULL</span></span>
<span class="line"><span>)CHARSET=utf8;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>列名</th><th>数据类型</th><th>约束</th><th>说明</th></tr></thead><tbody><tr><td>student_id</td><td>VARCHAR(20)</td><td>主键</td><td>学号</td></tr><tr><td>student_name</td><td>VARCHAR(20)</td><td>非空</td><td>姓名</td></tr><tr><td>sex</td><td>CHAR(2)</td><td>默认填充“男”</td><td>性别</td></tr><tr><td>born_date</td><td>DATE</td><td>非空</td><td>生日</td></tr><tr><td>phone</td><td>VARCHAR(11)</td><td>无</td><td>电脑</td></tr><tr><td>grade_id</td><td>INT</td><td>非空、外键约束引用班级表的grade_id</td><td>班级编号</td></tr></tbody></table><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPYCREATE TABLE t_student(</span></span>
<span class="line"><span>	student_id VARCHAR(20) PRIMARY KEY,</span></span>
<span class="line"><span>	student_name VARCHAR(20) NOT NULL,</span></span>
<span class="line"><span>	sex CHAR(2) DEFAULT &#39;男&#39;,</span></span>
<span class="line"><span>	born_date DATE NOT NULL,</span></span>
<span class="line"><span>	phone VARCHAR(11),</span></span>
<span class="line"><span>	grade_id INT NOT NULL,</span></span>
<span class="line"><span>	CONSTRAINT fk_student_grade FOREIGN KEY (grade_id) REFERENCES t_grade(grade_id)</span></span>
<span class="line"><span>)CHARSET=utf8;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>创建关系表时</strong>，<strong>一定要先创建主键</strong>，<strong>再创建从表</strong>。</li><li><strong>删除关系表时</strong>，<strong>先删除从表</strong>，<strong>再删除主表</strong>。</li></ul><h1 id="十一、事务" tabindex="-1"><a class="header-anchor" href="#十一、事务"><span>十一、事务</span></a></h1><hr><h2 id="_11-1-模拟转账" tabindex="-1"><a class="header-anchor" href="#_11-1-模拟转账"><span>11.1 模拟转账</span></a></h2><p>生活当中转账是转账方账户扣钱，收账方账户加钱。我们用数据库操作来模拟实现转账。</p><h3 id="_11-1-1-数据库模拟转账" tabindex="-1"><a class="header-anchor" href="#_11-1-1-数据库模拟转账"><span>11.1.1 数据库模拟转账</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#A账户转账给B账户1000元</span></span>
<span class="line"><span>#B账户减1000元</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#新建账户表</span></span>
<span class="line"><span>CREATE TABLE t_account(</span></span>
<span class="line"><span>	account_id INT PRIMARY KEY,</span></span>
<span class="line"><span>	money INT</span></span>
<span class="line"><span>)CHARSET=utf8;</span></span>
<span class="line"><span>#插入数据</span></span>
<span class="line"><span>INSERT INTO t_account(account_id,money) VALUES(1,5000);</span></span>
<span class="line"><span>INSERT INTO t_account(account_id,money) VALUES(2,5000);</span></span>
<span class="line"><span>#模拟转账</span></span>
<span class="line"><span>UPDATE t_account SET money=money-1000 WHERE account_id=1;#转账</span></span>
<span class="line"><span>UPDATE t_account SET money=money+1000 WHERE account_id=2;#收账</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>上述代码完成了两个账户之间转账的操作</strong>。</li></ul><h3 id="_11-1-2-模拟转账错误" tabindex="-1"><a class="header-anchor" href="#_11-1-2-模拟转账错误"><span>11.1.2 模拟转账错误</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPYUPDATE t_account SET money=money-1000 WHERE account_id=1;#转账</span></span>
<span class="line"><span>#断电，异常，出错...</span></span>
<span class="line"><span>UPDATE t_account SET money=money+1000 WHERE account_id=2;#收账</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>上述代码在减操作后过程中出现了异常或加钱语句出错</strong>，<strong>会发现减钱成功了而加钱失败了</strong>！</li><li><strong>注意</strong>：<strong>每条SQL语句都是一个独立的操作</strong>，<strong>一个操作执行完对数据库是永久性的影响</strong>。</li></ul><h2 id="_11-2-事务的概念" tabindex="-1"><a class="header-anchor" href="#_11-2-事务的概念"><span>11.2 事务的概念</span></a></h2><p>事务是一个原子操作，是一个做小执行单元。可以由一个或多个SQL语句组成，在同一个事务当中，所有的SQL语句都成功执行，整个事务成功，有一个SQL语句执行失败，整个事务执行失败。</p><h2 id="_11-3-事务的边界" tabindex="-1"><a class="header-anchor" href="#_11-3-事务的边界"><span>11.3 事务的边界</span></a></h2><ul><li>开始：连接到数据库，执行一条DML语句。上一个事务结束后，又输入了一条DML语句，即事务的开始。</li><li>结束： <ol><li>提交： <ul><li>显式提交：COMMIT；</li><li>隐式提交：一条创建、删除的语句，正常退出（客户端退出连接）；</li></ul></li><li>回滚： <ul><li>显式回滚：ROLLBACK；</li><li>隐式回滚：非正常退出（断电、宕机），执行了创建、删除的语句，但是失败了，会为这个无效的语句执行回滚。</li></ul></li></ol></li></ul><p>如11.1.2节中的两条语句就是两个事务，第一条语句执行便是事务的开始，分号便是事务的结束，执行完毕该语句就被提交了；而第二句由于执行失败，该语句的结果就是回滚，回到事务前的样子。</p><h2 id="_11-4-事务的原理" tabindex="-1"><a class="header-anchor" href="#_11-4-事务的原理"><span>11.4 事务的原理</span></a></h2><p>数据库会为每一个客户端都维护一个空间独立的缓存区（回滚段），一个事务中所有的增删改查语句的执行结果都会缓存在回滚段中，只有当事务中所有SQL语句均正常结束（COMMIT），才会将回滚段中的数据同步到数据库。否则无论因为哪种原因失败，整个事务将回滚（ROLLBACK）。</p><h2 id="_11-5-事务的特性-acid" tabindex="-1"><a class="header-anchor" href="#_11-5-事务的特性-acid"><span>11.5 事务的特性（ACID）</span></a></h2><ul><li><p><strong>Atomicity</strong>（<strong>原子性</strong>）</p><p>表示一个事务内的所有操作是一个整体，要么全部成功，要么全部失败。</p></li><li><p><strong>Consistency</strong>（<strong>一致性</strong>）</p><p>表示一个事务内有一个操作失败时，所有更改过的数据都必须回滚到修改前状态。</p></li><li><p><strong>Isolation</strong>（<strong>隔离性</strong>）</p><p>事务查看数据库操作时数据所处的状态，要么是另一并发事务修改它之前的状态，要么是另一事物修改它之后的状态，事务不会查看中间状态的数据。</p></li><li><p><strong>Durability</strong>（<strong>持久性</strong>）</p><p>持久性事务完成之后，它对与系统的影响是永久性的。</p></li></ul><h2 id="_11-6-事务应用" tabindex="-1"><a class="header-anchor" href="#_11-6-事务应用"><span>11.6 事务应用</span></a></h2><p>应用环境：基于增删改查语句的操作结果（均返回操作后受影响的行数），可通过程序逻辑手动控制事务提交或回滚。</p><h3 id="_11-6-1-事务完成转账" tabindex="-1"><a class="header-anchor" href="#_11-6-1-事务完成转账"><span>11.6.1 事务完成转账</span></a></h3><p>手动开启事务，将两个减钱和加钱的操作放到事务中，操作完之后再提交。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#开启事务</span></span>
<span class="line"><span>START TRANSACTION;</span></span>
<span class="line"><span>#执行减钱操作（两个账户初始钱都为5000）</span></span>
<span class="line"><span>UPDATE t_account SET money=money-1000 WHERE account_id = 1;</span></span>
<span class="line"><span>#执行加钱操作</span></span>
<span class="line"><span>UPDATE t_account SET money=money+1000 WHERE account_id = 2;</span></span>
<span class="line"><span>#查看该事务中账户数据</span></span>
<span class="line"><span>SELECT * FROM t_account;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上SQL语句开启了事务，但并未进行提交，此时查看账户中的数据如下：</p><table><thead><tr><th>account_id</th><th>money</th></tr></thead><tbody><tr><td>1</td><td>4000</td></tr><tr><td>2</td><td>6000</td></tr></tbody></table><p>发现数据<strong>已经变了</strong>，但该数据只是事务的中间状态。</p><p>然后在你的数据库管理系统中<strong>新建</strong>一个连接，我的是Navicat，新建连接名随便取一个，然后新建查询。这么做相当于模拟了另外一个客户端：</p><figure><img src="/vuepress-starter/assets/5fb0d8add791bdca43a8c528-B5CbeMFq.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>执行图中的查询语句，发现表中的数据并<strong>没有改变</strong>：</p><table><thead><tr><th>account_id</th><th>money</th></tr></thead><tbody><tr><td>1</td><td>5000</td></tr><tr><td>2</td><td>5000</td></tr></tbody></table><p>这是因为在第一个连接中开启了事务，但没有提交；而在another连接中，查询语句也是一个事务（没有显式开启和显式提交），该事务只能查看其它事务修改前后者修改后的状态，此处就是只能查看转账操作提交前的状态，两个账户都是5000，这也是事务的<strong>隔离性</strong>。</p><p>回到localhost连接中，提交事务；然后在another连接中再查询一次：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#localhost连接，提交事务</span></span>
<span class="line"><span>COMMIT;</span></span>
<span class="line"><span>COPY#another连接，查询表</span></span>
<span class="line"><span>SELECT * FROM t_account;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时的查询结果如下：</p><table><thead><tr><th>account_id</th><th>money</th></tr></thead><tbody><tr><td>1</td><td>4000</td></tr><tr><td>2</td><td>6000</td></tr></tbody></table><p>发现数据已经正式修改完毕。</p><p>回滚操作类似，但它是取消掉事务的操作，回到事务前的状态。比如事务开启后，减钱成功，但是加钱失败了（可以用SQL语句某个单词写错来模拟），然后手动执行<code>ROLLBACK</code>，减钱操作就会被撤销。不再演示。</p><ul><li>此处的演示是手动进行了事物的开启和提交/回滚，在写程序时，这些操作都会在程序中进行控制。</li></ul><h2 id="十二、权限管理" tabindex="-1"><a class="header-anchor" href="#十二、权限管理"><span>十二、权限管理</span></a></h2><h2 id="_12-1-创建用户" tabindex="-1"><a class="header-anchor" href="#_12-1-创建用户"><span>12.1 创建用户</span></a></h2><p><strong>语法</strong>：<code>CREATE USER 用户名 IDENTIFIED BY 密码</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#创建一个用户</span></span>
<span class="line"><span>CREATE USER &#39;client1&#39; IDENTIFIED BY &#39;123456&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来验证用户是否添加成功，首先新建连接，在用户名和账号那里写上自己创建的用户和密码，测试一下是否连接成功。</p><figure><img src="/vuepress-starter/assets/5fb0e148f8e9f6772f05f128-CAxuHyuC.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>然后点“确定”。但是打开该连接之后你会发现此连接中除了一个系统数据库，其他数据库<strong>都不存在</strong>。这是因为client1用户建立的连接没有得到任何授权，也就是没有对数据库的访问操作权限。</p><h2 id="_12-2-授权" tabindex="-1"><a class="header-anchor" href="#_12-2-授权"><span>12.2 授权</span></a></h2><p><strong>语法</strong>：<code>GRANT ALL ON 数据库.表 TO 用户名;</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#将companydb下的所有表的权限都赋给client</span></span>
<span class="line"><span>GRANT ALL ON companydb.* TO client1;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>该语句需要在root连接中执行，不能在client1连接中自己给自己授权。</p><h2 id="_12-3-撤销权限" tabindex="-1"><a class="header-anchor" href="#_12-3-撤销权限"><span>12.3 撤销权限</span></a></h2><p><strong>语法</strong>：<code>REVOKE ALL ON 数据库.表名 FROM 用户名</code></p><ul><li><strong>注意</strong>：<strong>撤销权限后</strong>，<strong>账户需要重新连接客户端才会生效</strong>。</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#将client1的companydb的操作权限撤销</span></span>
<span class="line"><span>GRANT ALL ON companydb.* TO client1;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>虽然刷新之后表不见了，但是依然可以对表进行操作，只有在重新连接数据库的时候权限才会消失。</p><h2 id="_12-4-删除用户" tabindex="-1"><a class="header-anchor" href="#_12-4-删除用户"><span>12.4 删除用户</span></a></h2><p><strong>语法</strong>：<code>DROP USER 用户名</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#删除用户client1</span></span>
<span class="line"><span>DROP USER &#39;client1&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="十三、视图" tabindex="-1"><a class="header-anchor" href="#十三、视图"><span>十三、视图</span></a></h1><hr><h2 id="_13-1-概念" tabindex="-1"><a class="header-anchor" href="#_13-1-概念"><span>13.1 概念</span></a></h2><p>视图，虚拟表，从一个表或多个表中查询出来的表，作用和真实表一样，包含一系列带有行和列的数据。视图表中，用户可以使用SELECT语句查询数据，也可以使用INSERT、UPDATE、DELETE修改记录，视图可以使用户操作方便，并保障数据库系统安全。</p><p>和临时表很像，但临时表不会被保存，而视图是保存下来的表。</p><h2 id="_13-2-视图特点" tabindex="-1"><a class="header-anchor" href="#_13-2-视图特点"><span>13.2 视图特点</span></a></h2><ul><li>优点 <ul><li>简单化，数据所见即所得。</li><li>安全性，用户只能查询或修改他们所能见到的数据。</li><li>逻辑独立性，可以屏蔽真实表结构变化带来的影响。</li></ul></li><li>缺点 <ul><li>性能相对较差，简单的查询也会变得稍显复杂。</li><li>修改不方便，特别是复杂的聚合视图基本无法修改。</li></ul></li></ul><h2 id="_13-3-视图的创建" tabindex="-1"><a class="header-anchor" href="#_13-3-视图的创建"><span>13.3 视图的创建</span></a></h2><p><strong>语法</strong>：<code>CREATE VIEW 视图名 AS 查询数据源表结构语句;</code></p><h3 id="_13-3-1-创建视图" tabindex="-1"><a class="header-anchor" href="#_13-3-1-创建视图"><span>13.3.1 创建视图</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#创建t_emp_info的视图，其视图从t_employees表中查询员工编号、姓名、邮箱、工资</span></span>
<span class="line"><span>CREATE VIEW t_emp_info</span></span>
<span class="line"><span>AS</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,EMAIL,SALARY FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-3-2-使用视图" tabindex="-1"><a class="header-anchor" href="#_13-3-2-使用视图"><span>13.3.2 使用视图</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#查询t_emp_info视图中编号为036的员工信息</span></span>
<span class="line"><span>SELECT * FROM t_emp_info WHERE EMPLOYEE_ID = 036;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用视图可以简化查询的操作，将来视图应用最多的地方也是查询。</p><h2 id="_13-4-视图的修改" tabindex="-1"><a class="header-anchor" href="#_13-4-视图的修改"><span>13.4 视图的修改</span></a></h2><ul><li>方式一：<code>CREATE OR REPLACE VIEW 视图名 AS 查询语句</code></li><li>方式二：<code>ALTER VIEW 视图名 AS 查询语句</code></li></ul><p>方式一是在不明确视图是否存在时使用，如果存在则修改，否则创建；方式二是明确存在时进行修改。无论哪种方式都需要拼接一个完整查询语句。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#方式一，如果视图存在则修改，反之创建。</span></span>
<span class="line"><span>CREATE OR REPLACE VIEW t_emp_info</span></span>
<span class="line"><span>AS</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,EMAIL,SALARY,JOB_ID FROM t_employees;</span></span>
<span class="line"><span>#方式二，对已存在的视图进行修改</span></span>
<span class="line"><span>ALTER VIEW t_emp_info</span></span>
<span class="line"><span>AS</span></span>
<span class="line"><span>SELECT EMPLOYEE_ID,FIRST_NAME,EMAIL,SALARY FROM t_employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_13-5-视图的删除" tabindex="-1"><a class="header-anchor" href="#_13-5-视图的删除"><span>13.5 视图的删除</span></a></h2><p><strong>语法</strong>：<code>DROP VIEW 视图名</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>COPY#删除视图</span></span>
<span class="line"><span>DROP VIEW t_emp_info;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：<strong>删除视图不会影响原表</strong>。</li></ul><h2 id="_13-6-视图的注意事项" tabindex="-1"><a class="header-anchor" href="#_13-6-视图的注意事项"><span>13.6 视图的注意事项</span></a></h2><ul><li>视图不会独立存储数据，原表发生改变，视图也发生改变。没有优化任何查询性能。</li><li>如果视图包含以下结构中的一种，则视图不可更新： <ul><li>聚合函数的结果</li><li>DISTINCT去重后的结果</li><li>GROUP BY分组后的结果</li><li>HAVING筛选过滤后的结果</li><li>UNION、UNION ALL联合后的结果</li></ul></li></ul><h1 id="十四、sql语言分类" tabindex="-1"><a class="header-anchor" href="#十四、sql语言分类"><span>十四、SQL语言分类</span></a></h1><hr><ol><li><strong>数据查询语言</strong>DQL（Data Query Language）：SELECT、WHERE、ORDER BY、GROUP BY、HAVING；</li><li><strong>数据定义语言</strong>DDL（Data Definition Language）：CREATE、ALTER、DROP；</li><li><strong>数据操作语言</strong>DML（Data Manipulation Language）：INSERT、UNPATE、DELETE；</li><li><strong>事务处理语言</strong>TPL（Transaction Process Language）：COMMIT、ROLLBACK；</li><li><strong>数据控制语言</strong>DCL（Data Control Language）：GRANT、REVOKE。</li></ol></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/src/guide/SQL/MySql/MySqlNote.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2024/12/10 08:55:51</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: z1162289133@gmail.com">cyoukon</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/vuepress-starter/guide/SQL/MySql/sql%E5%A4%87%E5%BF%98.html" aria-label="/guide/SQL/MySql/sql%E5%A4%87%E5%BF%98.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->/guide/SQL/MySql/sql%E5%A4%87%E5%BF%98.html</div></a><!----></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2024 Mr.Hope </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/vuepress-starter/assets/app-dX-INNG3.js" defer></script>
  </body>
</html>
