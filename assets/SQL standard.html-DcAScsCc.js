import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,f as i,a as t,d as o,g as n,r as s,o as u,b as r}from"./app-BfT0IRkw.js";const p={};function m(E,e){const l=s("font");return u(),d("div",null,[e[21]||(e[21]=i('<h2 id="四种隔离级别" tabindex="-1"><a class="header-anchor" href="#四种隔离级别"><span>四种隔离级别</span></a></h2><ol><li>READ UNCOMMITED(未提交读)read uncommited</li></ol><blockquote><p>在RERAD UNCOMMITED级别，事务中的修改，即使没有提交，对其他事务也都是可见的。事务可以读取未提交的数据，这也成为脏读（Dirty Read）。这个级别会导致很多问题，从性能上说READ UNCOMMITED 不会比其他的级别好太多，但缺乏其他级别的好多好处，除非有非常必要的理由，在实际的应用中一般很少使用READ UNCOMMITED.<br> 　　　　解释脏读：A用户修改了数据（存100块，账户为100）,随后B用户又读出该数据（100）,但A用户因为某些原因取消了对数据的修改（账户为0）,数据恢复原值,此时B得到的数据为100就与数据库内的账户为0数据不一样</p></blockquote><ol start="2"><li>READ COMMITED (提交读)read commited</li></ol><blockquote><p>大多数数据库系统的默认隔离级别都是READ COMMITED （但是MYSQL不是）。READ COMMITED 满足前面提到的隔离性的简单定义：一个事务开始时，只能看到已经提交的事务所做的修改。换句话说，一个事务从开始到提交之前，所做的任何修改对其他事务都是不可见的。这个级别有时候也叫做不可重复的（nonerepeatable read），因为两次执行同样的查询，可能会得到不一样的结果。<br> 　 　　 　解释不可重复读：A用户读取了数据100,随后B用户读出该数据并修改（加了100）,此时A用户再读取数据时发现前后两次的值不一致</p></blockquote><ol start="3"><li>REPEATABLE READ (可重复读)repeatable read</li></ol><blockquote><p>REPEATABLE READ (可重复读) 解决了脏读问题。该级别保证了在同一个事务中多次读取同样的记录的结果是一致的。但是，理论上，可重复读隔离级别还是无法解决另一个幻读 （PhantomRead）的问题。所谓幻读，指的是当某个事务（用户a读数据）在读取某个范围内的记录时，另外一个事务又在该范围内插入了新的记录（数据库在此范围内插入了一条数据），当之前的事务再次读 取该范围的记录时，会产生幻行（Phantom Row）。InnoDB和XtraDB 存储引擎通过多版并发控制（MVCC ,Multivesion Concurrency Control ）解决了幻读问题。<br> 　 　　　可重复读是Mysql 默认的事务隔离级别。</p></blockquote><ol start="4"><li>SERIALIZABLE(可串行化)serializable</li></ol><blockquote><p>SERIALIZABLE是最高的隔离级别。它通过强制事务串行，避免了前面说的幻读问题。简单的来说，SERIALIZABLE会在读的每一行数据上 都加上锁，所以可能导致大量的超时和锁征用问题。实际应用中也很少用到这个隔离级别，只有在非常需要确保数据的一致性而且可以接受没有并发的情况，才可考 虑用该级别。</p></blockquote>',9)),t("table",null,[e[20]||(e[20]=t("thead",null,[t("tr",null,[t("th",null,"隔离级别"),t("th",null,"脏读可能性"),t("th",null,"不可重复读可能性"),t("th",null,"幻读可能性"),t("th",null,"加锁读")])],-1)),t("tbody",null,[t("tr",null,[e[4]||(e[4]=t("td",null,"READ UNCOMMITED",-1)),t("td",null,[o(l,{color:"green"},{default:n(()=>e[0]||(e[0]=[r("YES")])),_:1})]),t("td",null,[o(l,{color:"green"},{default:n(()=>e[1]||(e[1]=[r("YES")])),_:1})]),t("td",null,[o(l,{color:"green"},{default:n(()=>e[2]||(e[2]=[r("YES")])),_:1})]),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[3]||(e[3]=[r("NO")])),_:1})])]),t("tr",null,[e[9]||(e[9]=t("td",null,"READ COMMITED",-1)),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[5]||(e[5]=[r("NO")])),_:1})]),t("td",null,[o(l,{color:"green"},{default:n(()=>e[6]||(e[6]=[r("YES")])),_:1})]),t("td",null,[o(l,{color:"green"},{default:n(()=>e[7]||(e[7]=[r("YES")])),_:1})]),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[8]||(e[8]=[r("NO")])),_:1})])]),t("tr",null,[e[14]||(e[14]=t("td",null,"REPEATABLE READ",-1)),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[10]||(e[10]=[r("NO")])),_:1})]),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[11]||(e[11]=[r("NO")])),_:1})]),t("td",null,[o(l,{color:"green"},{default:n(()=>e[12]||(e[12]=[r("YES")])),_:1})]),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[13]||(e[13]=[r("NO")])),_:1})])]),t("tr",null,[e[19]||(e[19]=t("td",null,"SERIALIZABLE",-1)),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[15]||(e[15]=[r("NO")])),_:1})]),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[16]||(e[16]=[r("NO")])),_:1})]),t("td",null,[o(l,{color:"blue"},{default:n(()=>e[17]||(e[17]=[r("NO")])),_:1})]),t("td",null,[o(l,{color:"green"},{default:n(()=>e[18]||(e[18]=[r("YES")])),_:1})])])])]),e[22]||(e[22]=i('<h2 id="处理并发冲突" tabindex="-1"><a class="header-anchor" href="#处理并发冲突"><span>处理并发冲突</span></a></h2><p><a href="https://docs.microsoft.com/zh-cn/aspnet/core/data/ef-mvc/concurrency?view=aspnetcore-5.0" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/aspnet/core/data/ef-mvc/concurrency?view=aspnetcore-5.0</a></p><h2 id="判断数据是否存在" tabindex="-1"><a class="header-anchor" href="#判断数据是否存在"><span>判断数据是否存在</span></a></h2><blockquote><p>限制只查一条数据，同时不选择列，提升效率</p></blockquote><p>MySQL</p><div class="language-mysql line-numbers-mode" data-highlighter="shiki" data-ext="mysql" data-title="mysql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SELECT 1 FROM test_table WHERE id = 1 LIMIT 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>MSSQL</p><div class="language-mssql line-numbers-mode" data-highlighter="shiki" data-ext="mssql" data-title="mssql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SELECT TOP 1 1 FROM test_table WHERE id = 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',8))])}const A=a(p,[["render",m],["__file","SQL standard.html.vue"]]),f=JSON.parse('{"path":"/guide/SQL/SQL%20standard.html","title":"","lang":"zh-CN","frontmatter":{"description":"四种隔离级别 READ UNCOMMITED(未提交读)read uncommited 在RERAD UNCOMMITED级别，事务中的修改，即使没有提交，对其他事务也都是可见的。事务可以读取未提交的数据，这也成为脏读（Dirty Read）。这个级别会导致很多问题，从性能上说READ UNCOMMITED 不会比其他的级别好太多，但缺乏其他级别的好多...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/vuepress-starter/guide/SQL/SQL%20standard.html"}],["meta",{"property":"og:site_name","content":"文档演示"}],["meta",{"property":"og:description","content":"四种隔离级别 READ UNCOMMITED(未提交读)read uncommited 在RERAD UNCOMMITED级别，事务中的修改，即使没有提交，对其他事务也都是可见的。事务可以读取未提交的数据，这也成为脏读（Dirty Read）。这个级别会导致很多问题，从性能上说READ UNCOMMITED 不会比其他的级别好太多，但缺乏其他级别的好多..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-12-10T08:55:51.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-10T08:55:51.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-12-10T08:55:51.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Hope\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"四种隔离级别","slug":"四种隔离级别","link":"#四种隔离级别","children":[]},{"level":2,"title":"处理并发冲突","slug":"处理并发冲突","link":"#处理并发冲突","children":[]},{"level":2,"title":"判断数据是否存在","slug":"判断数据是否存在","link":"#判断数据是否存在","children":[]}],"git":{"createdTime":1733820951000,"updatedTime":1733820951000,"contributors":[{"name":"cyoukon","username":"cyoukon","email":"z1162289133@gmail.com","commits":1,"url":"https://github.com/cyoukon"}]},"readingTime":{"minutes":3.07,"words":920},"filePathRelative":"guide/SQL/SQL standard.md","localizedDate":"2024年12月10日","autoDesc":true}');export{A as comp,f as data};
